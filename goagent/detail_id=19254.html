



<!DOCTYPE html>
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="https://ssl.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <script type="text/javascript">
 
 (function(){(function(){function c(a){this.t={};this.tick=function(a,b,c){b=void 0!=c?c:(new Date).getTime();this.t[a]=b;if(void 0==c)try{window.console.timeStamp("CSI/"+a)}catch(d){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var b=a?new c(a.responseStart):new c;window.jstiming={Timer:c,load:b};a&&(b=a.navigationStart,a=a.responseStart,0<b&&a>=b&&(window.jstiming.srt=a-b));try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT)),null==a&&
window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT),a&&(window.jstiming.pt=a)}catch(d){}})();})();

 
 
 
 
 var codesite_token = null;
 
 
 var CS_env = {"token": null, "domainName": null, "loggedInUserEmail": null, "assetHostPath": "https://ssl.gstatic.com/codesite/ph", "assetVersionPath": "https://ssl.gstatic.com/codesite/ph/10671232128890609530", "profileUrl": null, "projectHomeUrl": "/p/goagent", "projectName": "goagent", "relativeBaseUrl": ""};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script>
 
 
 <title>Issue 19254 - 
 goagent -
 
 Mac 底下无法使用的同学们看过来！ - 
 https://github.com/goagent/goagent - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/10671232128890609530/css/core.css">
 
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/10671232128890609530/css/ph_detail.css" >
 
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/10671232128890609530/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 .attachments { width:33%; border-top:2px solid #999; padding-top: 3px; margin-left: .7em;}
 .attachments table { margin-bottom: 0.75em; }
 .attachments table tr td { padding: 0; margin: 0; font-size: 95%; }
 .preview { border: 2px solid #c3d9ff; padding: 1px; }
 .preview:hover { border: 2px solid blue; }
 .label { white-space: nowrap; }
 .derived { font-style:italic }
 .cursor_on .author {
 background: url(https://ssl.gstatic.com/codesite/ph/images/show-arrow.gif) no-repeat 2px;
 }
 .hiddenform {
 display: none;
 }

 
 </style>
</head>
<body class="t3">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 <a href="#" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>&#9660;</small></a>
 | <a href="https://www.google.com/accounts/ServiceLogin?service=code&amp;ltmpl=phosting&amp;continue=https%3A%2F%2Fcode.google.com%2Fp%2Fgoagent%2Fissues%2Fdetail%3Fid%3D19254&amp;followup=https%3A%2F%2Fcode.google.com%2Fp%2Fgoagent%2Fissues%2Fdetail%3Fid%3D19254" onclick="_CS_click('/gb/ph/signin');"><u>Sign in</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0"
 itemscope itemtype="http://schema.org/CreativeWork">
 <tr style="height: 58px;">
 
 
 
 <td id="plogo">
 <link itemprop="url" href="/p/goagent">
 <a href="/p/goagent/">
 
 <img src="https://ssl.gstatic.com/codesite/ph/images/defaultlogo.png" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="/p/goagent/"><span itemprop="name">goagent</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link"
 href="/p/goagent/"><span itemprop="description">https://github.com/goagent/goagent</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="/hosting/search">
 <input size="30" name="q" value="" type="text">
 
 <input type="submit" name="projectsearch" value="Search projects" >
 </form>
 
 </tr>
 </table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="/p/goagent/" class="tab ">Project&nbsp;Home</a>
 
 
 
 
 
 
 
 
 <a href="/p/goagent/issues/list"
 class="tab active">Issues</a>
 
 
 
 
 
 
 
 
 
 
 <a href="https://code.google.com/export-to-github/export?project=goagent">
 <button>Export to GitHub</button>
 
 </a>
 
 
 <div class=gtbc></div>
</div>

 
 <div style="font-weight: bold; color: #c00; margin-top: 5px; margin-left: 13px;">
 READ-ONLY: This project has been <a href='https://code.google.com/archive/p/goagent'>archived</a>. For more information see <a href='https://code.google.com/p/support/wiki/ReadOnlyTransition'>this post</a>.
 </div>
 

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tr>
 
 
 
 
 
 <td class="subt">
 <div class="issueDetail">
<div class="isf">
 
 <span class="inIssueList">
 <span>Search</span>
 <form action="list" method="GET" style="display:inline">
 <select id="can" name="can">
 
<option disabled="disabled">Search within:</option>
<option value="1" >&nbsp;All issues</option>
<option value="2" selected=selected>&nbsp;Open issues</option>

<option value="6" >&nbsp;New issues</option>
<option value="7" >&nbsp;Issues to verify</option>

 </select>
 <span>for</span>
 <span id="qq"><input type="text" size="38" id="searchq" name="q"
 value="" autocomplete="off"
 
 onkeydown="_blurOnEsc(event)"></span>
 
 
 <span id="search_colspec"><input type="hidden" name="colspec" value="ID Opened Reporter Modified Summary Stars" ></span>
 
 
 
 <input type="hidden" name="cells" value="tiles" >
 <input type="submit" value="Search">
 </form>
 </span> &nbsp;
 <span class="inIssueAdvSearch">
 <a href="advsearch">Advanced search</a>
 </span> &nbsp;
 <span class="inIssueSearchTips">
 <a href="searchtips">Search tips</a>
 </span> &nbsp;
 <span class="inIssueSubscriptions">
 <a href="/p/goagent/issues/subscriptions">Subscriptions</a>
 </span>
</div>
</div>
 </td>
 
 
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol"
 
>

 






 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 


 

<div id="color_control" class="">
<div id="issueheader">
<table cellpadding="0" cellspacing="0" width="100%"><tbody>
 <tr>
 <td class="vt h3" nowrap="nowrap" style="padding:0 5px">
 
 
 Issue <a href="detail?id=19254">19254</a>:
 </td>
 <td width="90%" class="vt">
 <span class="h3" >Mac 底下无法使用的同学们看过来！</span>
 </td>
 <td>
 
 </td>
 </tr>
 <tr>
 <td></td>
 <td nowrap="nowrap">
 
 
 16 people starred this issue and may be notified of changes.
 
 
 
 </td>
 <td align="center" nowrap="nowrap">
 
 <a href="https://code.google.com/p/goagent/issues/list?cursor=goagent%3A19254">Back to list</a>
 
 </td>
 </tr>
 
</tbody></table>
</div>
<table width="100%" cellpadding="0" cellspacing="0" border="0" class="issuepage" id="meta-container">
<tbody class="collapse"> 
 <tr>
 <td id="issuemeta">
 <div id="meta-float">
 
<table cellspacing="0" cellpadding="0">
 <tr><th align="left">Status:&nbsp;</th>
 <td width="100%">
 
 <span title="Issue has not had initial review yet">New</span>
 
 </td>
 </tr>
 
 
 
 
 <tr><th align="left">Owner:&nbsp;</th><td>
 
 
 ----
 
 
 </td>
 </tr>
 
 
 
 <tr><td colspan="2">
 
 
 
 <div style="padding-top:2px">
 
 <a href="list?q=label:Type-Defect"
 title="Report of a software defect"
 class="label"><b>Type-</b>Defect</a>
 
 </div>
 
 
 
 
 <div style="padding-top:2px">
 
 <a href="list?q=label:Priority-Medium"
 title="Normal priority"
 class="label"><b>Priority-</b>Medium</a>
 
 </div>
 
 
 </td></tr>
 
</table>
<div class="rel_issues">
 
 
 
</div>


 <br><br>
 


 
 </div>&nbsp;
 </td>
 <td class="vt issuedescription" width="100%" id="cursorarea" >
 
<div class="cursor_off vt issuedescription" id="hc0">
 
 
 <div class="author">
 
 Reported by
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
>,
 <span class="date" title="Tue Dec 30 19:24:05 2014">Dec 30, 2014</span>
 
 </div>
<pre>
长久以来，GoAgent 一直有「Windows 下使用流畅，Mac 下几乎无法使用」的问题。对此问题的 Issue 一直不断，包括我自己也提过两个 Issues；但是问题一直没有解决。

由于 Mac 里一直提示 SSL 连接不上，且 Good IP 经常为 0，所以判定问题可能出现在 DNS 上。

今次我自己对比了 Mac 和 Windows 里的日志和运行环境，确认问题出在 GoAgent 的 dnsproxy 上。在 Windows 里，GoAgent 使用自带的 Python 环境，配置好了 Uvent 与 gevent 共同使用。但是，在 Mac 里，自行安装 gevent 库之后，GoAgent 的 dnsproxy 仍然不能正常工作。

所以我们要做的是：**拯救 DNS**。思路有两个：

* 使用其他的可靠的本地 DNS 程序；
* 让 GoAgent 的 dnsproxy 复活。

第一个思路较为简单，只需要下载并执行就好。这里推荐 DNSforwarder。

* 下载：<a href="https://raw.githubusercontent.com/holmium/dnsforwarder/5/mac_bin/dnsforwarder" rel="nofollow">https://raw.githubusercontent.com/holmium/dnsforwarder/5/mac_bin/dnsforwarder</a>
* 终端：chmod +x dnsforwarder
* 终端：sudo mv ./dnsforwarder /usr/bin/dnsforwarder
* 终端：sudo dnsforwarder -d # 这里加上 -d 参数是为了让 dnsforwarder 在后台以守护进程的方式运行
* 在 GoAgent 的配置中，找到 [dns] section，以 enable = 0 关闭 GoAgent 的 DNS 模块
* 运行 GoAgent
* enjoy

第二个思路比较麻烦，需要配置和修改不少内容，建议有经验的使用者进行操作。新手如果不知道下列内容意味着什么，请不要轻易动手。

* 安装好 Home Brew, Python-pip, Python-setuptools, Python-gevent 等备用
* 终端：brew install automake
* 终端：brew install libtool
* 终端：sudo pip install pyuv
* 终端：git clone git@github.com:saghul/uvent.git
* 终端：cd uvent
* 终端：sudo python setup.py install
* 打开 GoAgent 里的 dnsproxy.py
* 在 11 行的位置（import gevent 之前），插入两行代码：
    import uvent
    uvent.install()
* 在 GoAgent 的配置中，找到 [dns] section，以 enable = 1 打开 GoAgent 的 DNS 模块
* 以 root 权限运行 GoAgent
* enjoy
</pre>

</div>

 


 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc1">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 20:29:44 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c1" href="/p/goagent/issues/detail?id=19254#c1">#1</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
Last login: Wed Dec 31 12:24:59 on ttys001
nnnnnn:~ chenbruce$ chmod +x dnsforwarder
chmod: dnsforwarder: No such file or directory
nnnnnn:~ chenbruce$ sudo mv ./dnsforwarder /usr/bin/dnsforwarder
mv: ./dnsforwarder: No such file or directory
nnnnnn:~ chenbruce$ sudo dnsforwarder -d
sudo: dnsforwarder: command not found
nnnnnn:~ chenbruce$ 

我把这个下载文件放到goagent的文件夹里了
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc2">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:00:37 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c2" href="/p/goagent/issues/detail?id=19254#c2">#2</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
Mac怎么用root 权限运行 GoAgent
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc3">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:06:27 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c3" href="/p/goagent/issues/detail?id=19254#c3">#3</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re: #1

你把 dnsforwarder 放到了 GoAgent 的目录，但是终端的命令行确实在 ~ 目录执行的，所以当然会失败了。
你应该先用 cd 命令，将终端的工作目录切换到 GoAgent 目录。然后再执行这些操作。

Re: #2

sudo goagent-osx.command
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc4">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:14:53 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c4" href="/p/goagent/issues/detail?id=19254#c4">#4</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
Last login: Wed Dec 31 13:05:22 on ttys000
nnnnnn:~ chenbruce$ sudo goagent-osx.command
Password:
sudo: goagent-osx.command: command not found
nnnnnn:~ chenbruce$ 
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc5">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:18:26 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c5" href="/p/goagent/issues/detail?id=19254#c5">#5</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
To ＃3 
你好  
Last login: Wed Dec 31 13:14:15 on ttys000
nnnnnn:~ chenbruce$ cd /Users/chenbruce/Desktop/1111111
nnnnnn:1111111 chenbruce$ chmod +x dnsforwarder
nnnnnn:1111111 chenbruce$ sudo mv ./dnsforwarder /usr/bin/dnsforwarder
nnnnnn:1111111 chenbruce$ sudo dnsforwarder -d
DNSforwarder by holmium. Version 5.0.11 . License : GPL v3.
Time of compilation : Sep 18 2014 22:53:07.

Please run `dnsforwarder -p' if something wrong.

Configure File : /var/root/.dnsforwarder/config

deamon process pid : 33269
nnnnnn:1111111 chenbruce$ 
这样就好了吗  然后可以开启goagent了吗 
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc6">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:19:36 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c6" href="/p/goagent/issues/detail?id=19254#c6">#6</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
To ＃3
不行阿 还是各种bad IP
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc7">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:21:01 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c7" href="/p/goagent/issues/detail?id=19254#c7">#7</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
nnnnnn:1111111 chenbruce$ cd /Users/chenbruce/Desktop/1111111
nnnnnn:1111111 chenbruce$ chmod +x dnsforwarder
chmod: dnsforwarder: No such file or directory
nnnnnn:1111111 chenbruce$ sudo mv ./dnsforwarder /usr/bin/dnsforwarder
mv: ./dnsforwarder: No such file or directory
nnnnnn:1111111 chenbruce$ sudo dnsforwarder -d
DNSforwarder by holmium. Version 5.0.11 . License : GPL v3.
Time of compilation : Sep 18 2014 22:53:07.

Please run `dnsforwarder -p' if something wrong.

Configure File : /var/root/.dnsforwarder/config

deamon process pid : 33352
QAQ 
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc8">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:22:06 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c8" href="/p/goagent/issues/detail?id=19254#c8">#8</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
To ＃3
不行阿 还是各种bad IP
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc9">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 21:41:35 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c9" href="/p/goagent/issues/detail?id=19254#c9">#9</a>
 

 <a class="userlink"
 href="/u/109187213000209224529/">darkred...@gmail.com</a
></span>
 
<pre>
方法一貌似无效
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc11">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 22:48:27 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c11" href="/p/goagent/issues/detail?id=19254#c11">#11</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
To All:

抱歉，方法一确实有问题。步骤是我在试验之后凭回忆写下的，并不是操作一步写一笔，所以漏掉了一个步骤。

在启动 dnsforwarder 之后，需要先在系统偏好设置里为 Mac 选择指定的 DNS 服务器（也就是我们用 dnsforwarder 搭建的），然后再启动 GoAgent。

调整之后的方法一如下：

* 下载：<a href="https://raw.githubusercontent.com/holmium/dnsforwarder/5/mac_bin/dnsforwarder" rel="nofollow">https://raw.githubusercontent.com/holmium/dnsforwarder/5/mac_bin/dnsforwarder</a>
* 终端：chmod +x dnsforwarder
* 终端：sudo mv ./dnsforwarder /usr/bin/dnsforwarder
* 终端：sudo dnsforwarder -d # 这里加上 -d 参数是为了让 dnsforwarder 在后台以守护进程的方式运行
* 系统偏好设置 - 网络 - Wi-Fi - （解锁之后点击）高级 - DNS - 左下角的加号 - 填入「127.0.0.1」
* 在 GoAgent 的配置中，找到 [dns] section，以 enable = 0 关闭 GoAgent 的 DNS 模块
* 运行 GoAgent，终端：sudo ./goagent-osx.command
* enjoy
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc12">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 22:52:15 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c12" href="/p/goagent/issues/detail?id=19254#c12">#12</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #4

有两个问题。

第一，还是我在 #3 当中提到的，命令的执行应该在 GoAgent 的目录里。具体说，是在 GoAgent 的 local 目录里。你应该使用 cd 命令切换终端的工作目录。
第二，是我的事物。goagent-osx.command 是一个文件，而不是系统的命令，所以应该执行：
    sudo ./goagent-osx.command
以 ./ 提示终端执行当前目录下的文件。

Re #5, #7

这个提示说明你已经正确启动了 dnsforwarder。之后参照 #11 的步骤，在系统偏好设置里调整好 DNS 服务器地址，然后就可以启动 GoAgent 了。

Re #6, #8

抱歉是我漏掉了一个步骤，参见 #11.
另外，有 Bad IP 是正常的，毕竟不可能全都是 Good IP。在我的网络环境下，Good IP 能稳定保持有 30 多个。

Re #9

对，是我漏掉了一个步骤，参见 #11.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc13">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Dec 30 23:35:21 2014">
 Dec 30, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c13" href="/p/goagent/issues/detail?id=19254#c13">#13</a>
 

 <a class="userlink"
 href="/u/109187213000209224529/">darkred...@gmail.com</a
></span>
 
<pre>
方法一依然无效
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc14">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 00:13:30 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c14" href="/p/goagent/issues/detail?id=19254#c14">#14</a>
 

 <a class="userlink"
 href="/u/107465908169758571924/">iceman...@gmail.com</a
></span>
 
<pre>
按思路2修改之后OK了~~
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc15">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 00:47:38 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c15" href="/p/goagent/issues/detail?id=19254#c15">#15</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
to #14
我运行了   终端：git clone git@github.com:saghul/uvent.git  这个然后貌似不能运行后面

nnnnnn:~ chenbruce$ sudo git clone git@github.com:saghul/uvent.git
Password:
Cloning into 'uvent'...
The authenticity of host 'github.com (192.30.252.131)' can't be established.
RSA key fingerprint is XXXXXXXXXX.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'github.com,192.30.252.131' (RSA) to the list of known hosts.
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
nnnnnn:~ chenbruce$ 

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc16">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 00:48:35 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c16" href="/p/goagent/issues/detail?id=19254#c16">#16</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
to # 14
你能写一下你操作的步骤吗  谢谢
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc18">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 01:09:38 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c18" href="/p/goagent/issues/detail?id=19254#c18">#18</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #13

这我就判断不出来你那里除了什么问题了。

Re #14

恭喜

Re #15

你没用过 GitHub 呀= =
clone 不下来的话，直接下载好了：
<a href="https://github.com/saghul/uvent/archive/master.zip" rel="nofollow">https://github.com/saghul/uvent/archive/master.zip</a>
下载之后解压，继续之后的操作。

Re #17

两个可能：

1. GoAgent 已经在运行
2. dnsforwarder 已经在运行，且 GoAgent 打开了 DNS，53 端口被占用，造成冲突。


</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc19">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 01:19:05 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c19" href="/p/goagent/issues/detail?id=19254#c19">#19</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
to #18  
下载到哪个路径阿  我都不敢随便放了
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc20">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 01:31:56 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c20" href="/p/goagent/issues/detail?id=19254#c20">#20</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
# to 18
我到Python-setuptools网上下了 ez_setup.py  来装setuptools  下了 get-pip.py 来装 Python-pip
我uvent也下载了 但是无法安装
* 终端：brew install automake
* 终端：brew install libtool
* 终端：sudo pip install pyuv
这些我都装了

Last login: Wed Dec 31 17:25:30 on ttys000
nnnnnn:~ chenbruce$ /Users/chenbruce/Desktop/uvent-master/setup.py 
from: can't read /var/mail/setuptools
from: can't read /var/mail/uvent
/Users/chenbruce/Desktop/uvent-master/setup.py: line 6: syntax error near unexpected token `newline'
/Users/chenbruce/Desktop/uvent-master/setup.py: line 6: `setup('
nnnnnn:~ chenbruce$ /Users/chenbruce/Desktop/ez_setup.py  
-bash: /Users/chenbruce/Desktop/ez_setup.py: Permission denied
nnnnnn:~ chenbruce$ sudo /Users/chenbruce/Desktop/ez_setup.py 
sudo: /Users/chenbruce/Desktop/ez_setup.py: command not found
nnnnnn:~ chenbruce$ 


</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc21">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 01:32:10 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c21" href="/p/goagent/issues/detail?id=19254#c21">#21</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #19

随便解压到那个路径，只是你之后的操作

* 终端：cd uvent
* 终端：sudo python setup.py install

这两个步骤需要 cd 到你下载的路径里去。实际上执行过这两步之后，下载的文件和解压的目录都可以删掉了。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc22">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 01:33:44 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c22" href="/p/goagent/issues/detail?id=19254#c22">#22</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #20

注意是

sudo python /Users/chenbruce/Desktop/uvent-master/setup.py install
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc23">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 01:44:46 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c23" href="/p/goagent/issues/detail?id=19254#c23">#23</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
to #22
您好 第二个方法我可以运行了  但是还是不行 全部都是bad IP 
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc24">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 01:50:44 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c24" href="/p/goagent/issues/detail?id=19254#c24">#24</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #23

dnsproxy.py 修改了吗？
GoAgent 的配置文件 [dns] 小节里的 enable = 1 设置了吗？

如果都设置了的话，技术层面我想不到其他可能了，只能怀疑你在不断测试的过程中，有其他相关的进程在运行，干扰了 GoAgent。重启，试着以 root 权限打开 GoAgent。

我这里是没有问题的，两种方法都试过了；#14 也验证过了。因此，如果你那里 Windows 底下能运行，Mac 里这样修改之后也应该没有问题。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc25">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 02:09:25 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c25" href="/p/goagent/issues/detail?id=19254#c25">#25</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
To ＃ 24 
能不能把你可以用了的goagent 发一份附件到 loqshubiao@gmail.com  谢谢
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc26">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 02:15:07 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c26" href="/p/goagent/issues/detail?id=19254#c26">#26</a>
 

 <a class="userlink"
 href="/u/100489589259953962582/">yaoyongp...@gmail.com</a
></span>
 
<pre>
个人比较推荐方法一，简单，而且可以脚本化运行dnsforwarder。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc27">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 02:15:37 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c27" href="/p/goagent/issues/detail?id=19254#c27">#27</a>
 

 <a class="userlink"
 href="/u/105265638144941419672/">hasset...@gmail.com</a
></span>
 
<pre>
我直接试用第二种方法，打开直接出错：
Traceback (most recent call last):
  File &quot;goagent-goagent-338ca80/local/proxy.py&quot;, line 1631, in &lt;module&gt;
    main()
  File &quot;goagent-goagent-338ca80/local/proxy.py&quot;, line 1594, in main
    from dnsproxy import DNSServer
  File &quot;/Volumes/RamDisk/goagent-goagent-338ca80/local/dnsproxy.py&quot;, line 31, in &lt;module&gt;
    import pygeoip
IOError: zipimport: can not open file goagent-goagent-338ca80/local/packages.egg

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc28">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 02:28:04 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c28" href="/p/goagent/issues/detail?id=19254#c28">#28</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #27

看上去是 packages.egg 这个文件损坏了。

重新下载一下 GoAgent。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc29">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 02:41:35 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c29" href="/p/goagent/issues/detail?id=19254#c29">#29</a>
 

 <a class="userlink"
 href="/u/105620763498068422004/">addpaper...@gmail.com</a
></span>
 
<pre>
问朋友要了几个ip，方法1就可以了，用goagent默认ip配置方法1不行。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc30">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 02:58:59 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c30" href="/p/goagent/issues/detail?id=19254#c30">#30</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
to #29
我运行 sudo dnsforwarder -d 之后变成这样 你也是相同的日志吗  这样是不是表示 dnsforwarder已经启动了？
Last login: Wed Dec 31 18:57:22 on ttys000
nnnnnn:~ chenbruce$ sudo dnsforwarder -d
Password:
DNSforwarder by holmium. Version 5.0.11 . License : GPL v3.
Time of compilation : Sep 18 2014 22:53:07.

Please run `dnsforwarder -p' if something wrong.

Configure File : /var/root/.dnsforwarder/config

deamon process pid : 541
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc32">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 03:26:23 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c32" href="/p/goagent/issues/detail?id=19254#c32">#32</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #29

好。

Re #30

是，这样就是说 dnsforwarder 启动了。

以下是我这里的提示：

-----
$ sudo dnsforwarder -d
Password:
DNSforwarder by holmium. Version 5.0.11 . License : GPL v3.
Time of compilation : Sep 18 2014 22:53:07.

Please run `dnsforwarder -p' if something wrong.

Configure File : /var/root/.dnsforwarder/config

deamon process pid : 25157
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc33">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 03:34:02 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c33" href="/p/goagent/issues/detail?id=19254#c33">#33</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
方法一启动 dnsforwarder 时的命令行消息：

-----
$ sudo dnsforwarder -d
Password:
DNSforwarder by holmium. Version 5.0.11 . License : GPL v3.
Time of compilation : Sep 18 2014 22:53:07.

Please run `dnsforwarder -p' if something wrong.

Configure File : /var/root/.dnsforwarder/config

deamon process pid : 25157
-----

方法一启动 GoAgent 时的 GoAgent log：

-----
WARNING - [Dec 31 19:26:09] Load Crypto.Cipher.ARC4 Failed, Use Pure Python Instead.
------------------------------------------------------
GoAgent Version    : 3.2.3 (python/2.7.5 gevent/1.0.1 pyopenssl/0.13)
Listen Address     : 127.0.0.1:8087
GAE Mode           : https
GAE APPID          : 已隐藏
Pac Server         : http://127.0.0.1:8086/proxy.pac
Pac File           : file:///Users/Liam/Documents/GoAgent/GoAgent_3.2.3/local/proxy.pac
------------------------------------------------------
INFO - [Dec 31 19:26:16] 127.0.0.1:54874 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 19854
INFO - [Dec 31 19:26:17] 127.0.0.1:54875 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 77504
INFO - [Dec 31 19:26:17] resolve common.IPLIST_ALIAS names=['google_cn', 'google_hk', 'google_talk'] to iplist
INFO - [Dec 31 19:26:18] resolve name=google_cn host to iplist=[已隐藏]
INFO - [Dec 31 19:26:19] resolve name=google_hk host to iplist=[已隐藏]
INFO - [Dec 31 19:26:20] resolve name=google_talk host to iplist=[已隐藏]
INFO - [Dec 31 19:26:20] 127.0.0.1:54888 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 77504
INFO - [Dec 31 19:26:20] 127.0.0.1:54877 &quot;STRIP CONNECT code.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:20] ssl good_ipaddrs=0, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:24] 127.0.0.1:54877 &quot;DIRECT POST <a href="https://code.google.com/p/goagent/issues/update.do?id=19254" rel="nofollow">https://code.google.com/p/goagent/issues/update.do?id=19254</a> HTTP/1.1&quot; 301 381
INFO - [Dec 31 19:26:24] ssl good_ipaddrs=1, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:25] 127.0.0.1:54921 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 77504
INFO - [Dec 31 19:26:25] 127.0.0.1:54923 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:25] 127.0.0.1:54924 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:25] ssl good_ipaddrs=2, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:25] 127.0.0.1:54933 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:25] ssl good_ipaddrs=2, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:26] 127.0.0.1:54943 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">http://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:26] 127.0.0.1:54944 &quot;STRIP CONNECT www.google.com.hk:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:26] ssl good_ipaddrs=2, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:26] 127.0.0.1:54923 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=h" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=h</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:26] 127.0.0.1:54933 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=hah" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=hah</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:27] 127.0.0.1:54924 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=ha" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=ha</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:27] 127.0.0.1:54944 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">https://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 302 481
INFO - [Dec 31 19:26:28] 127.0.0.1:54954 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">http://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:28] 127.0.0.1:54955 &quot;STRIP CONNECT www.google.com.hk:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] 127.0.0.1:54956 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54969 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54982 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54955 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">https://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 302 485
INFO - [Dec 31 19:26:28] 127.0.0.1:54995 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54877 &quot;DIRECT GET <a href="https://code.google.com/p/goagent/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Opened%20Reporter%20Modified%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=19254" rel="nofollow">https://code.google.com/p/goagent/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Opened%20Reporter%20Modified%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=19254</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:28] 127.0.0.1:55008 &quot;STRIP CONNECT ssl.google-analytics.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] 127.0.0.1:55008 &quot;MOCK GET <a href="https://ssl.google-analytics.com/__utm.gif?utmwv=5.6.1&amp;utms=4&amp;utmn=1495589713&amp;utmhn=code.google.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1278x590&amp;utmsc=24-bit&amp;utmul=zh-cn&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=Issue%2019254%20-%20goagent%20-%20Mac%20%E5%BA%95%E4%B8%8B%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E5%90%8C%E5%AD%A6%E4%BB%AC%E7%9C%8B%E8%BF%87%E6%9D%A5%EF%BC%81%20-%20https%3A%2F%2Fgithub.com%2Fgoagent%2Fgoagent%20-%20Google%20Project%20Hosting&amp;utmhid=1677716880&amp;utmr=0&amp;utmp=%2Fp%2Fgoagent%2Fissues%2Fdetail%3Fcan%3D2%26start%3D0%26num%3D100%26q%3D%26colspec%3DID%252520Opened%252520Reporter%252520Modified%252520Summary%252520Stars%26groupby%3D%26sort%3D%26id%3D19254&amp;utmht=1420025188807&amp;utmac=UA-18071-1&amp;utmcc=__utma%3D247248150.1261673075.1419992236.1420016609.1420025103.3%3B%2B__utmz%3D247248150.1419992236.1.1.utmcsr%3D(direct)%7Cutmccn%3D(direct)%7Cutmcmd%3D(none)%3B&amp;utmjid=&amp;utmu=qAAgAAAAAAAAAAAAAAAAAAAE~" rel="nofollow">https://ssl.google-analytics.com/__utm.gif?utmwv=5.6.1&amp;utms=4&amp;utmn=1495589713&amp;utmhn=code.google.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1278x590&amp;utmsc=24-bit&amp;utmul=zh-cn&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=Issue%2019254%20-%20goagent%20-%20Mac%20%E5%BA%95%E4%B8%8B%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E5%90%8C%E5%AD%A6%E4%BB%AC%E7%9C%8B%E8%BF%87%E6%9D%A5%EF%BC%81%20-%20https%3A%2F%2Fgithub.com%2Fgoagent%2Fgoagent%20-%20Google%20Project%20Hosting&amp;utmhid=1677716880&amp;utmr=0&amp;utmp=%2Fp%2Fgoagent%2Fissues%2Fdetail%3Fcan%3D2%26start%3D0%26num%3D100%26q%3D%26colspec%3DID%252520Opened%252520Reporter%252520Modified%252520Summary%252520Stars%26groupby%3D%26sort%3D%26id%3D19254&amp;utmht=1420025188807&amp;utmac=UA-18071-1&amp;utmcc=__utma%3D247248150.1261673075.1419992236.1420016609.1420025103.3%3B%2B__utmz%3D247248150.1419992236.1.1.utmcsr%3D(direct)%7Cutmccn%3D(direct)%7Cutmcmd%3D(none)%3B&amp;utmjid=&amp;utmu=qAAgAAAAAAAAAAAAAAAAAAAE~</a> HTTP/1.1&quot; 200 43
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:55009 &quot;STRIP CONNECT code.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] 127.0.0.1:55019 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:55022 &quot;STRIP CONNECT www.google.com.hk:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:29] 127.0.0.1:54956 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=h" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=h</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:29] 127.0.0.1:54982 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=hah" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=hah</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:29] 127.0.0.1:54969 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=ha" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=ha</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:29] 127.0.0.1:54995 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=haha" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=haha</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:30] 127.0.0.1:55048 &quot;STRIP CONNECT encrypted.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:30] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:30] 127.0.0.1:55049 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:30] 127.0.0.1:55009 &quot;DIRECT POST <a href="https://code.google.com/hosting/projects" rel="nofollow">https://code.google.com/hosting/projects</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:30] ssl good_ipaddrs=5, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:30] 127.0.0.1:54877 &quot;DIRECT POST <a href="https://code.google.com/hosting/multilogin" rel="nofollow">https://code.google.com/hosting/multilogin</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:30] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:30] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:30] 127.0.0.1:55074 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:30] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] 127.0.0.1:55087 &quot;STRIP CONNECT s.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:31] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] 127.0.0.1:55009 &quot;DIRECT POST <a href="https://code.google.com/apis/ajax/playground/get_projects" rel="nofollow">https://code.google.com/apis/ajax/playground/get_projects</a> HTTP/1.1&quot; 301 247
INFO - [Dec 31 19:26:31] 127.0.0.1:55048 &quot;DIRECT GET <a href="https://encrypted.google.com/search?q=haha&amp;ie=utf-8&amp;oe=utf-8" rel="nofollow">https://encrypted.google.com/search?q=haha&amp;ie=utf-8&amp;oe=utf-8</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:31] 127.0.0.1:55100 &quot;STRIP CONNECT lh4.googleusercontent.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:31] 127.0.0.1:55101 &quot;STRIP CONNECT ssl.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:31] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:31] 127.0.0.1:55102 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:31] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] ssl good_ipaddrs=5, bad_ipaddrs=26, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] 127.0.0.1:55127 &quot;STRIP CONNECT encrypted.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:32] ssl good_ipaddrs=5, bad_ipaddrs=26, unknown_ipaddrs=0
INFO - [Dec 31 19:26:32] 127.0.0.1:55100 &quot;DIRECT GET <a href="https://lh4.googleusercontent.com/-NZ9RnrKfPhY/AAAAAAAAAAI/AAAAAAAAAAA/-mWSQ4kfBzg/s24-c/photo.jpg" rel="nofollow">https://lh4.googleusercontent.com/-NZ9RnrKfPhY/AAAAAAAAAAI/AAAAAAAAAAA/-mWSQ4kfBzg/s24-c/photo.jpg</a> HTTP/1.1&quot; 200 674
INFO - [Dec 31 19:26:32] 127.0.0.1:55087 &quot;GAE GET <a href="https://s.youtube.com/api/stats/watchtime?plid=AAULf-ML4klpFILP&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;ns=yt&amp;docid=w08pX3FX9Hs&amp;cplayer=AS3&amp;st=6136.093&amp;cver=as3&amp;ldpj=-22&amp;state=playing&amp;fexp=900718,904843,905639,927622,929305,931365,932404,934947,940333,9405696,9406110,941004,943917,947209,947218,948124,952302,952605,952901,955301,957103,957105,957201&amp;len=6186.259&amp;vm=CAI&amp;rt=6402.283&amp;cpn=V1xxlMBbDVOVK6tX&amp;cbrver=7.1.2&amp;el=detailpage&amp;cmt=6176.295&amp;ver=2&amp;cos=Mac&amp;rtn=6329&amp;rti=6289&amp;idpj=-3&amp;cbr=Safari&amp;cosver=10_9_5&amp;hl=zh_CN&amp;c=WEB&amp;cr=US&amp;of=UuWvAxnA2CGDUcU0t_VFzg&amp;et=6176.184&amp;lact=2703797&amp;fmt=135" rel="nofollow">https://s.youtube.com/api/stats/watchtime?plid=AAULf-ML4klpFILP&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;ns=yt&amp;docid=w08pX3FX9Hs&amp;cplayer=AS3&amp;st=6136.093&amp;cver=as3&amp;ldpj=-22&amp;state=playing&amp;fexp=900718,904843,905639,927622,929305,931365,932404,934947,940333,9405696,9406110,941004,943917,947209,947218,948124,952302,952605,952901,955301,957103,957105,957201&amp;len=6186.259&amp;vm=CAI&amp;rt=6402.283&amp;cpn=V1xxlMBbDVOVK6tX&amp;cbrver=7.1.2&amp;el=detailpage&amp;cmt=6176.295&amp;ver=2&amp;cos=Mac&amp;rtn=6329&amp;rti=6289&amp;idpj=-3&amp;cbr=Safari&amp;cosver=10_9_5&amp;hl=zh_CN&amp;c=WEB&amp;cr=US&amp;of=UuWvAxnA2CGDUcU0t_VFzg&amp;et=6176.184&amp;lact=2703797&amp;fmt=135</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:26:32] 127.0.0.1:55101 &quot;DIRECT GET <a href="https://ssl.gstatic.com/gb/images/h_bedf916a.png" rel="nofollow">https://ssl.gstatic.com/gb/images/h_bedf916a.png</a> HTTP/1.1&quot; 200 10460
INFO - [Dec 31 19:26:32] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:32] 127.0.0.1:55140 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:33] 127.0.0.1:55127 &quot;DIRECT GET <a href="https://encrypted.google.com/xjs/_/js/k=xjs.s.zh_CN.QikH_OD5Gog.O/m=sy9,abd,sy38,sy39,sy40,sy42,sy41,sy32,sy45,sy43,sy44,sy62,sy63,async,sy33,sy34,cdos,sy177,sy321,sy322,sy10,sy80,sy323,sy333,sy21,sy334,dvl,sy64,foot,fpe,sy167,hv,idck,sy77,lc,sy83,sy293,sy294,lrct,sy53,sy111,sy151,lu,sy340,m,sy56,sy52,sy57,sy55,sy95,sy109,sy311,mpck,sf,sy255,sy304,sy327,srl,sy84,sy118,em7,vs,sy67,sy68,sy70,sy72,sy69,sy73,sy65,sy71,sy74,tnv,sy78,sy79,sy328,cdrtoc,riu,sy246,sy247,sy248,sy281,sy285,ilrp,iur,sy99,sy58,sy97,sy100,sy127,sy126,sy131,sy128,sy132,sy130,sy129,sy139,sy195,sy245,sy253,sy178,sy133,sy82,sy125,sy252,sy308,sy134,sy206,sy309,lor,sy81,lcm,me,sy103,sy282,sy168,sy289,kptm/am=hKh_MQjKQiMQGQ/rt=j/d=0/t=zcms/rs=ACT90oETxX841rob0C2vFkN--J5RABFYzQ" rel="nofollow">https://encrypted.google.com/xjs/_/js/k=xjs.s.zh_CN.QikH_OD5Gog.O/m=sy9,abd,sy38,sy39,sy40,sy42,sy41,sy32,sy45,sy43,sy44,sy62,sy63,async,sy33,sy34,cdos,sy177,sy321,sy322,sy10,sy80,sy323,sy333,sy21,sy334,dvl,sy64,foot,fpe,sy167,hv,idck,sy77,lc,sy83,sy293,sy294,lrct,sy53,sy111,sy151,lu,sy340,m,sy56,sy52,sy57,sy55,sy95,sy109,sy311,mpck,sf,sy255,sy304,sy327,srl,sy84,sy118,em7,vs,sy67,sy68,sy70,sy72,sy69,sy73,sy65,sy71,sy74,tnv,sy78,sy79,sy328,cdrtoc,riu,sy246,sy247,sy248,sy281,sy285,ilrp,iur,sy99,sy58,sy97,sy100,sy127,sy126,sy131,sy128,sy132,sy130,sy129,sy139,sy195,sy245,sy253,sy178,sy133,sy82,sy125,sy252,sy308,sy134,sy206,sy309,lor,sy81,lcm,me,sy103,sy282,sy168,sy289,kptm/am=hKh_MQjKQiMQGQ/rt=j/d=0/t=zcms/rs=ACT90oETxX841rob0C2vFkN--J5RABFYzQ</a> HTTP/1.1&quot; 200 86256
INFO - [Dec 31 19:26:33] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:33] 127.0.0.1:55141 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:33] ssl good_ipaddrs=5, bad_ipaddrs=30, unknown_ipaddrs=0
INFO - [Dec 31 19:26:33] ssl good_ipaddrs=5, bad_ipaddrs=30, unknown_ipaddrs=0
INFO - [Dec 31 19:26:34] 127.0.0.1:55166 &quot;STRIP CONNECT www.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:34] ssl good_ipaddrs=5, bad_ipaddrs=37, unknown_ipaddrs=0
INFO - [Dec 31 19:26:34] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:34] 127.0.0.1:55179 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:34] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:34] 127.0.0.1:55180 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:34] ssl good_ipaddrs=5, bad_ipaddrs=48, unknown_ipaddrs=0
INFO - [Dec 31 19:26:35] 127.0.0.1:55048 &quot;DIRECT GET <a href="https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=16&amp;imn=16&amp;imp=8&amp;ei=Z92jVPPZHYuUyQSoo4GABQ&amp;e=3700292,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.53.25.sb.34.m.9.dvl.4.c.1.cdos.1&amp;action=&amp;rt=xjsls.520,xjses.557,xjsee.606,xjs.624,prt.664,iuml_rcs.2485,iuml_nre.2485,ol.2486,iml.1562" rel="nofollow">https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=16&amp;imn=16&amp;imp=8&amp;ei=Z92jVPPZHYuUyQSoo4GABQ&amp;e=3700292,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.53.25.sb.34.m.9.dvl.4.c.1.cdos.1&amp;action=&amp;rt=xjsls.520,xjses.557,xjsee.606,xjs.624,prt.664,iuml_rcs.2485,iuml_nre.2485,ol.2486,iml.1562</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:26:35] 127.0.0.1:55166 &quot;DIRECT GET <a href="https://www.google.com/ads/measurement/t" rel="nofollow">https://www.google.com/ads/measurement/t</a> HTTP/1.1&quot; 302 318
INFO - [Dec 31 19:26:35] 127.0.0.1:55193 &quot;STRIP CONNECT www.googleadservices.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:36] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:36] 127.0.0.1:55194 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:36] 127.0.0.1:55193 &quot;GAE GET <a href="https://www.googleadservices.com/measurement?jaid=AJHaeXK1JjNzjhNdh_W9p2wO1oLRa9kPTPqfeX_f2hmdij-xbq06QA&amp;jaidet=16969" rel="nofollow">https://www.googleadservices.com/measurement?jaid=AJHaeXK1JjNzjhNdh_W9p2wO1oLRa9kPTPqfeX_f2hmdij-xbq06QA&amp;jaidet=16969</a> HTTP/1.1&quot; 200 42
INFO - [Dec 31 19:26:38] 127.0.0.1:55195 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:39] ssl good_ipaddrs=5, bad_ipaddrs=58, unknown_ipaddrs=0
INFO - [Dec 31 19:26:39] 127.0.0.1:55087 &quot;GAE GET <a href="https://s.youtube.com/api/stats/qoe?vps=6409.671:PL&amp;scoville=1&amp;df=6409.671:516&amp;cmt=6409.671:6183.68&amp;ns=yt&amp;cpn=V1xxlMBbDVOVK6tX&amp;docid=w08pX3FX9Hs&amp;event=streamingstats&amp;el=detailpage&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;fmt=135" rel="nofollow">https://s.youtube.com/api/stats/qoe?vps=6409.671:PL&amp;scoville=1&amp;df=6409.671:516&amp;cmt=6409.671:6183.68&amp;ns=yt&amp;cpn=V1xxlMBbDVOVK6tX&amp;docid=w08pX3FX9Hs&amp;event=streamingstats&amp;el=detailpage&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;fmt=135</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:26:40] 127.0.0.1:55195 &quot;DIRECT GET <a href="https://plus.google.com/u/0/_/notifications/frame?sourceid=1&amp;hl=zh-CN&amp;origin=https%3A%2F%2Fencrypted.google.com&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.gapi.en.wgbKiK972Ko.O%2Fm%3D__features__%2Frt%3Dj%2Fd%3D1%2Frs%3DAItRSTOlX0YCaQmKijyj5lpKQ5AVm7UE6A" rel="nofollow">https://plus.google.com/u/0/_/notifications/frame?sourceid=1&amp;hl=zh-CN&amp;origin=https%3A%2F%2Fencrypted.google.com&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.gapi.en.wgbKiK972Ko.O%2Fm%3D__features__%2Frt%3Dj%2Fd%3D1%2Frs%3DAItRSTOlX0YCaQmKijyj5lpKQ5AVm7UE6A</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:41] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0
INFO - [Dec 31 19:26:41] 127.0.0.1:55208 &quot;STRIP CONNECT www.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:41] 127.0.0.1:55209 &quot;STRIP CONNECT s.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:41] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0
INFO - [Dec 31 19:26:41] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0
INFO - [Dec 31 19:26:42] 127.0.0.1:55246 &quot;STRIP CONNECT www.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:42] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0
-----

方案二启动 GoAgent 时的 GoAgent log：

-----
WARNING - [Dec 31 19:31:47] Load Crypto.Cipher.ARC4 Failed, Use Pure Python Instead.
------------------------------------------------------
GoAgent Version    : 3.2.3 (python/2.7.5 gevent/1.0.1 pyopenssl/0.13)
Listen Address     : 127.0.0.1:8087
GAE Mode           : https
GAE APPID          : 已隐藏
Pac Server         : http://127.0.0.1:8086/proxy.pac
Pac File           : file:///Users/Liam/Documents/GoAgent/GoAgent_3.2.3/local/proxy.pac
DNS Listen         : 127.0.0.1:53
DNS Servers        : 8.8.8.8|8.8.4.4|208.67.222.222|208.67.220.220|168.95.1.1|168.95.192.1|223.5.5.5|223.6.6.6|114.114.114.114|114.114.115.115
------------------------------------------------------
INFO - [Dec 31 19:31:49] resolve common.IPLIST_ALIAS names=['google_cn', 'google_hk', 'google_talk'] to iplist
INFO - [Dec 31 19:31:49] resolve name=google_cn host to iplist=[已隐藏]
INFO - [Dec 31 19:31:49] resolve name=google_hk host to iplist=[已隐藏]
INFO - [Dec 31 19:31:49] resolve name=google_talk host to iplist=[已隐藏]
INFO - [Dec 31 19:31:49] 127.0.0.1:57409 &quot;STRIP CONNECT ssl.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:31:49] 127.0.0.1:57410 &quot;STRIP CONNECT encrypted.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:31:49] ssl good_ipaddrs=0, bad_ipaddrs=0, unknown_ipaddrs=0
WARNING - [Dec 31 19:31:55] create_ssl_connection to 'encrypted.google.com' with [已隐藏] return ['timed out'], try again.
INFO - [Dec 31 19:31:55] ssl good_ipaddrs=0, bad_ipaddrs=12, unknown_ipaddrs=0
WARNING - [Dec 31 19:32:01] create_ssl_connection to 'encrypted.google.com' with [已隐藏] return ['timed out'], try again.
INFO - [Dec 31 19:32:01] ssl good_ipaddrs=0, bad_ipaddrs=21, unknown_ipaddrs=0
INFO - [Dec 31 19:32:04] 127.0.0.1:57410 &quot;DIRECT GET <a href="https://encrypted.google.com/search?&amp;q=%E7%A5%9E%E5%95%8A" rel="nofollow">https://encrypted.google.com/search?&amp;q=%E7%A5%9E%E5%95%8A</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:32:05] 127.0.0.1:57460 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:32:05] ssl good_ipaddrs=2, bad_ipaddrs=21, unknown_ipaddrs=0
INFO - [Dec 31 19:32:06] 127.0.0.1:57410 &quot;DIRECT GET <a href="https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=27&amp;imn=27&amp;imp=0&amp;ei=s96jVPLPOZKHgwTgqYGAAQ&amp;e=3300107,3300134,3300137,3300164,3310705,3312195,3700062,3700243,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.57.26.sb.37.m.5.spch.5.dvl.3.c.2&amp;action=&amp;srt=15045&amp;rt=xjsls.992,xjses.1048,xjsee.1122,xjs.1128,iuml_rcs.1202,iuml_nre.1202,prt.1392,ol.1789,iml.1392,wsrt.15045,cst.788,dnst.0,rqst.16000,rspt.1831,sslt.9,rqstt.818,unt.1,cstt.30,dit.16822" rel="nofollow">https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=27&amp;imn=27&amp;imp=0&amp;ei=s96jVPLPOZKHgwTgqYGAAQ&amp;e=3300107,3300134,3300137,3300164,3310705,3312195,3700062,3700243,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.57.26.sb.37.m.5.spch.5.dvl.3.c.2&amp;action=&amp;srt=15045&amp;rt=xjsls.992,xjses.1048,xjsee.1122,xjs.1128,iuml_rcs.1202,iuml_nre.1202,prt.1392,ol.1789,iml.1392,wsrt.15045,cst.788,dnst.0,rqst.16000,rspt.1831,sslt.9,rqstt.818,unt.1,cstt.30,dit.16822</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:32:07] 127.0.0.1:57460 &quot;DIRECT POST <a href="https://plus.google.com/u/0/_/n/gcosuc?origin=https%3A%2F%2Fencrypted.google.com" rel="nofollow">https://plus.google.com/u/0/_/n/gcosuc?origin=https%3A%2F%2Fencrypted.google.com</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:32:07] 127.0.0.1:57473 &quot;STRIP CONNECT csi.gstatic.com:443 HTTP/1.1&quot; - -
-----
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc34">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 04:22:36 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c34" href="/p/goagent/issues/detail?id=19254#c34">#34</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
Last login: Wed Dec 31 20:09:18 on ttys000
nnnnnn:~ chenbruce$ sudo dnsforwarder -d
Password:
DNSforwarder by holmium. Version 5.0.11 . License : GPL v3.
Time of compilation : Sep 18 2014 22:53:07.

Please run `dnsforwarder -p' if something wrong.

Configure File : /var/root/.dnsforwarder/config

deamon process pid : 562
nnnnnn:~ chenbruce$ cd /Users/chenbruce/Documents/goagent\ 2.3/local
nnnnnn:local chenbruce$ sudo python proxy.py
------------------------------------------------------
GoAgent Version    : 3.2.3 (python/2.7.6 gevent/1.0.1 pyopenssl/0.13)
Listen Address     : 127.0.0.1:8087
GAE Mode           : https
GAE APPID          : 隐藏
------------------------------------------------------
INFO - [Dec 31 20:13:19] resolve common.IPLIST_ALIAS names=['google_cn', 'google_hk', 'google_talk'] to iplist
INFO - [Dec 31 20:13:20] resolve name=google_talk host to iplist=['隐藏']
WARNING - [Dec 31 20:13:22] google_cn resolved too short iplist=[], switch to google_hk
INFO - [Dec 31 20:13:22] ssl good_ipaddrs=0, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 20:13:52] 127.0.0.1:49635 &quot;GAE GET <a href="http://google.com/ncr" rel="nofollow">http://google.com/ncr</a> HTTP/1.1&quot; 301 222
INFO - [Dec 31 20:13:52] 127.0.0.1:49700 &quot;MOCK GET <a href="http://www.google.com/ncr" rel="nofollow">http://www.google.com/ncr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 20:13:52] 127.0.0.1:49702 &quot;STRIP CONNECT apis.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] 127.0.0.1:49703 &quot;STRIP CONNECT clients5.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] 127.0.0.1:49704 &quot;STRIP CONNECT id.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] 127.0.0.1:49705 &quot;STRIP CONNECT lh5.googleusercontent.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] 127.0.0.1:49706 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] 127.0.0.1:49707 &quot;STRIP CONNECT ssl.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] 127.0.0.1:49708 &quot;STRIP CONNECT www.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] 127.0.0.1:49709 &quot;STRIP CONNECT www.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:13:52] tcp good_ipaddrs=0, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 20:13:52] extend_iplist start for hosts=[]
INFO - [Dec 31 20:13:52] extend_iplist finished, added 38
INFO - [Dec 31 20:13:52] 127.0.0.1:49710 &quot;DIRECT GET <a href="http://www.gstatic.com/generate_204" rel="nofollow">http://www.gstatic.com/generate_204</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 20:14:22] extend_iplist start for hosts=[]
INFO - [Dec 31 20:14:22] extend_iplist finished, added 38
INFO - [Dec 31 20:14:54] 127.0.0.1:49742 &quot;STRIP CONNECT www.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:14:54] 127.0.0.1:49743 &quot;STRIP CONNECT apis.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:14:54] 127.0.0.1:49744 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:14:54] 127.0.0.1:49745 &quot;STRIP CONNECT ssl.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:14:54] 127.0.0.1:49746 &quot;STRIP CONNECT www.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:14:55] ssl good_ipaddrs=1, bad_ipaddrs=14, unknown_ipaddrs=0
WARNING - [Dec 31 20:15:24] create_ssl_connection to 'www.google.com' with [ 隐藏)] return ['[Errno 8] _ssl.c:507: EOF occurred in violation of protocol', 'timed out'], try again.
INFO - [Dec 31 20:15:24] ssl good_ipaddrs=0, bad_ipaddrs=24, unknown_ipaddrs=0
INFO - [Dec 31 20:15:53] tcp good_ipaddrs=3, bad_ipaddrs=20, unknown_ipaddrs=0
INFO - [Dec 31 20:15:53] extend_iplist start for hosts=[]
INFO - [Dec 31 20:15:53] extend_iplist finished, added 38
INFO - [Dec 31 20:15:53] 127.0.0.1:49838 &quot;DIRECT GET <a href="http://www.gstatic.com/generate_204" rel="nofollow">http://www.gstatic.com/generate_204</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 20:15:53] 127.0.0.1:49742 &quot;DIRECT GET <a href="https://www.google.com/ncr" rel="nofollow">https://www.google.com/ncr</a> HTTP/1.1&quot; 302 219
INFO - [Dec 31 20:15:53] 127.0.0.1:49906 &quot;MOCK GET <a href="http://www.google.com/" rel="nofollow">http://www.google.com/</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 20:15:53] ssl good_ipaddrs=1, bad_ipaddrs=31, unknown_ipaddrs=0
INFO - [Dec 31 20:16:16] 127.0.0.1:49742 &quot;DIRECT GET <a href="https://www.google.com/" rel="nofollow">https://www.google.com/</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 20:16:17] 127.0.0.1:49961 &quot;STRIP CONNECT www.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:16:17] ssl good_ipaddrs=2, bad_ipaddrs=36, unknown_ipaddrs=0
INFO - [Dec 31 20:16:17] 127.0.0.1:49742 &quot;DIRECT GET <a href="https://www.google.com/s?newwindow=1&amp;output=search&amp;sclient=psy-ab&amp;q=&amp;oq=&amp;gs_l=&amp;pbx=1&amp;bav=on.2,or.r_cp.r_qf.&amp;fp=1&amp;pf=p&amp;sugexp=msedr&amp;gs_rn=60&amp;gs_ri=psy-ab&amp;tok=7fWgNSBXtHz7hNKcFPDbTw&amp;cp=0&amp;gs_id=1&amp;xhr=t&amp;es_nrs=true&amp;tch=1&amp;ech=1&amp;psi=EOmjVO2JEIyTuATiiIHICQ.1420028177312.1" rel="nofollow">https://www.google.com/s?newwindow=1&amp;output=search&amp;sclient=psy-ab&amp;q=&amp;oq=&amp;gs_l=&amp;pbx=1&amp;bav=on.2,or.r_cp.r_qf.&amp;fp=1&amp;pf=p&amp;sugexp=msedr&amp;gs_rn=60&amp;gs_ri=psy-ab&amp;tok=7fWgNSBXtHz7hNKcFPDbTw&amp;cp=0&amp;gs_id=1&amp;xhr=t&amp;es_nrs=true&amp;tch=1&amp;ech=1&amp;psi=EOmjVO2JEIyTuATiiIHICQ.1420028177312.1</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 20:16:53] 127.0.0.1:49995 &quot;STRIP CONNECT apis.google.com:443 HTTP/1.1&quot; - -
ERROR - [Dec 31 20:16:53] ssl.wrap_socket(connection=&lt;socket at 0x1028e8fd0 fileno=11 sock=127.0.0.1:8087&gt;) failed: [Errno 22] Invalid argument
Traceback (most recent call last):
  File &quot;/Users/chenbruce/Documents/goagent 2.3/local/proxylib.py&quot;, line 944, in handle
    self.do_ssl_handshake(handler)
  File &quot;/Users/chenbruce/Documents/goagent 2.3/local/proxylib.py&quot;, line 931, in do_ssl_handshake
    ssl_sock = ssl.wrap_socket(handler.connection, keyfile=certfile, certfile=certfile, server_side=True, ssl_version=self.ssl_method, ciphers=self.ciphers)
  File &quot;/Library/Python/2.7/site-packages/gevent/ssl.py&quot;, line 383, in wrap_socket
    ciphers=ciphers)
  File &quot;/Library/Python/2.7/site-packages/gevent/ssl.py&quot;, line 76, in __init__
    socket.getpeername(self)
  File &quot;&lt;string&gt;&quot;, line 1, in getpeername
error: [Errno 22] Invalid argument

INFO - [Dec 31 20:16:53] ssl good_ipaddrs=1, bad_ipaddrs=37, unknown_ipaddrs=0
INFO - [Dec 31 20:16:53] 127.0.0.1:49996 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
ERROR - [Dec 31 20:16:53] ssl.wrap_socket(connection=&lt;socket at 0x1028fb590 fileno=11 sock=127.0.0.1:8087&gt;) failed: [Errno 22] Invalid argument
Traceback (most recent call last):
  File &quot;/Users/chenbruce/Documents/goagent 2.3/local/proxylib.py&quot;, line 944, in handle
    self.do_ssl_handshake(handler)
  File &quot;/Users/chenbruce/Documents/goagent 2.3/local/proxylib.py&quot;, line 931, in do_ssl_handshake
    ssl_sock = ssl.wrap_socket(handler.connection, keyfile=certfile, certfile=certfile, server_side=True, ssl_version=self.ssl_method, ciphers=self.ciphers)
  File &quot;/Library/Python/2.7/site-packages/gevent/ssl.py&quot;, line 383, in wrap_socket
    ciphers=ciphers)
  File &quot;/Library/Python/2.7/site-packages/gevent/ssl.py&quot;, line 76, in __init__
    socket.getpeername(self)
  File &quot;&lt;string&gt;&quot;, line 1, in getpeername
error: [Errno 22] Invalid argument

INFO - [Dec 31 20:16:53] 127.0.0.1:49997 &quot;STRIP CONNECT ssl.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:16:53] 127.0.0.1:50005 &quot;STRIP CONNECT clients4.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:16:53] 127.0.0.1:50036 &quot;STRIP CONNECT www.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:16:53] 127.0.0.1:50037 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:16:53] 127.0.0.1:50038 &quot;STRIP CONNECT www.facebook.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:16:53] ssl good_ipaddrs=1, bad_ipaddrs=37, unknown_ipaddrs=0
INFO - [Dec 31 20:16:53] ssl good_ipaddrs=1, bad_ipaddrs=37, unknown_ipaddrs=0
INFO - [Dec 31 20:16:53] 127.0.0.1:50074 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 20:16:53] ssl good_ipaddrs=1, bad_ipaddrs=37, unknown_ipaddrs=0
INFO - [Dec 31 20:17:08] 127.0.0.1:49961 &quot;DIRECT GET <a href="https://www.google.com/gen_204?v=3&amp;s=webhp&amp;imc=4&amp;imn=4&amp;imp=0&amp;ei=EOmjVO2JEIyTuATiiIHICQ&amp;e=3300116,3300132,3300137,3300164,3310751,3700249,4011550,4011551,4011556,4011558,4011559,4016824,4020110,4020347,4020562,4021073,4021598,4023709,4024625,4025405,4025768,4026005,4026397,4027544,8300111,8500394,8500852,8500923,10200083,10200716,10200780,10200816,10200833&amp;atyp=csi&amp;adh=&amp;xjs=init.68.10.sb.57.p.9.jsa.1.r.1.bbd.0&amp;action=&amp;srt=82059&amp;rt=xjsls.352,prt.353,ol.388,iml.353,xjses.499,xjsee.640,xjs.662,wsrt.82013,cst.0,dnst.0,rqst.23227,rspt.203,rqstt.58938,unt.58934,cstt.58934,dit.82366" rel="nofollow">https://www.google.com/gen_204?v=3&amp;s=webhp&amp;imc=4&amp;imn=4&amp;imp=0&amp;ei=EOmjVO2JEIyTuATiiIHICQ&amp;e=3300116,3300132,3300137,3300164,3310751,3700249,4011550,4011551,4011556,4011558,4011559,4016824,4020110,4020347,4020562,4021073,4021598,4023709,4024625,4025405,4025768,4026005,4026397,4027544,8300111,8500394,8500852,8500923,10200083,10200716,10200780,10200816,10200833&amp;atyp=csi&amp;adh=&amp;xjs=init.68.10.sb.57.p.9.jsa.1.r.1.bbd.0&amp;action=&amp;srt=82059&amp;rt=xjsls.352,prt.353,ol.388,iml.353,xjses.499,xjsee.640,xjs.662,wsrt.82013,cst.0,dnst.0,rqst.23227,rspt.203,rqstt.58938,unt.58934,cstt.58934,dit.82366</a> HTTP/1.1&quot; 204 0


我这个算成功开启了，方法一  但是日志到这边半分钟不往下跳   Google打开要1分钟  Facebook死活连不上  YouTube也不行 QAQ  27号之前我都是秒开的阿  (╯°□°）╯︵/(.□ . \) ┻━┻

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc35">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 04:26:29 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c35" href="/p/goagent/issues/detail?id=19254#c35">#35</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
to ＃33
我用Tor都比现在的goagent快  ＿|￣|○
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc36">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 16:14:09 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c36" href="/p/goagent/issues/detail?id=19254#c36">#36</a>
 

 <a class="userlink"
 href="/u/111436539008431228967/">chen1258...@gmail.com</a
></span>
 
<pre>
依然很卡 和不用dnsforwarder之前没有区别 (´･Д･)」
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc37">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 18:12:11 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c37" href="/p/goagent/issues/detail?id=19254#c37">#37</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #36

这就没招了，我这边一切正常，昨晚帮不少朋友配过了，也都没问题。大概是你那边，ISP 动了手脚吧。

GoAgent 不行的话，你可以试试看 Shadowsocks。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc38">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 18:45:34 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c38" href="/p/goagent/issues/detail?id=19254#c38">#38</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
思路二的相关代码已提交给 phuslu，并且已经被他 merge 到主项目分支。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc39">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 19:12:16 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c39" href="/p/goagent/issues/detail?id=19254#c39">#39</a>
 

 <a class="userlink"
 href="/u/110561396757988302757/">gttian...@gmail.com</a
></span>
 
<pre>
楼主:
    我是按照第二种方法进行配置的,结果在运行 goagent 出现下面的错误:

ERROR - [Jan  1 11:08:29] GoAgent DNSServer requires dnslib and gevent 1.0
Traceback (most recent call last):
  File &quot;/Users/tiankai/Documents/tools/goagent-goagent-d2a7126/local/proxy.py&quot;, line 1594, in main
    from dnsproxy import DNSServer
  File &quot;/Users/tiankai/Documents/tools/goagent-goagent-d2a7126/local/dnsproxy.py&quot;, line 12, in &lt;module&gt;
    uvent.install()
  File &quot;build/bdist.macosx-10.9-intel/egg/uvent/__init__.py&quot;, line 22, in install
    patch_loop()
  File &quot;build/bdist.macosx-10.9-intel/egg/uvent/__init__.py&quot;, line 13, in patch_loop

我安装了  dnslib and gevent 1.0, 当时 还是会出现这个错误,不知道怎么回事.

我的系统是:OS X 10.95 

GoAgent Version    : 3.2.3 (python/2.7.5 gevent/1.0.1 pyopenssl/0.13)

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc40">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Dec 31 19:43:39 2014">
 Dec 31, 2014
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c40" href="/p/goagent/issues/detail?id=19254#c40">#40</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #39

终端底下运行 python，试试 import gevent 还有 import dnslib，看下是不是安装好了？
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc41">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 09:15:02 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c41" href="/p/goagent/issues/detail?id=19254#c41">#41</a>
 

 <a class="userlink"
 href="/u/108149545414327228582/">hkbrya...@gmail.com</a
></span>
 
<pre>
我的MAC也是27号之后就崩了, 试了所有方法(包括DNSFORWARDER)都不行. 
然后今天重新下载了最新的3.2.3,发现GOODIP找到了.但是问题变成了The requested URL /_gh/ 
was not found on this server.

原来3.2版本要重新上传,再用UPLOADER成功上传之后就可以用了. 大家可以试一下.
The requested URL /_gh/ was not found on this server.问题解决方案可以查看 <a title="大家的Goagent3.2.3能用吗"  href="/p/goagent/issues/detail?id=19247">Issue 
19247</a>的17号回复.

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc42">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 09:29:49 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c42" href="/p/goagent/issues/detail?id=19254#c42">#42</a>
 

 <a class="userlink"
 href="/u/108149545414327228582/">hkbrya...@gmail.com</a
></span>
 
<pre>
另外再说一下, 一定要今天去下最新的goagent-goagent-338ca80. 我前两天下的另外一个3.2.3版本还是不行. 
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc43">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 09:46:39 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c43" href="/p/goagent/issues/detail?id=19254#c43">#43</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #41 #42 

各地的情况不一样的。

我这里其实 3.1.18 版本一直很好使，仅仅偶尔会提示 SSL 连接失败；3.2.3 版本（之前下载的）则一直不行，提示 SSL 连接失败。
所以还是 DNS 的问题，用 DNSforwarder 去解决就行了。

Cc #36
之前的 #36 （他回复了很多）在 <a title="很感谢大家这几天来的帮助 MacBook终于恢复到原来的速度了"  href="/p/goagent/issues/detail?id=19281">Issue 19281</a> 中提到，他将系统 DNS 设置为 v2ex 的 DNS 就可以用了。

如果使用思路一，那么实际上只需要改一下 DNSforwarder 的配置文件就好了。
将下列内容保存在和 dnsforwarder 同目录的 dnsf.config：
# -----
# 务必将主服务器协议设为 UDP
PrimaryServer UDP

# UDP 服务器中务必有一个国外服务器
UDPServer 114.114.114.114, 114.114.115.115, 8.8.8.8, 8.8.4.4, 199.91.73.222, 178.79.131.110
TCPServer 8.8.8.8, 8.8.4.4, 199.91.73.222, 178.79.131.110 

# 建议开启并发查询
ParallelQuery true

# 开启 UDP 防污染
UDPAntiPollution true

# 请在 `UDPBlock_IP' 选项中添加可能的伪造的 IP 地址
UDPBlock_IP 37.61.54.158, 59.24.3.173, 72.52.244.56, 157.112.145.6, 80.76.158.94, 207.230.151.254, 184.154.10.146, 91.208.42.72, 199.48.254.135, 109.71.81.130, 193.104.136.38, 189.36.20.55, 119.18.57.230, 62.76.188.152, 54.92.59.138, 74.201.113.25, 54.243.105.190, 198.1.104.147, 46.182.20.123, 178.16.44.201, 221.213.49.149, 92.53.98.146, 188.138.122.63, 83.222.124.187, 194.247.136.56, 50.22.7.222, 14.192.41.68, 216.52.252.88, 193.239.132.44, 96.30.47.216, 204.236.218.138, 203.98.7.65, 108.167.140.229, 46.163.109.39, 4.31.18.250, 64.131.66.92, 173.203.62.250, 213.239.227.125

# 请将 `GfwList' 置空
GfwList
# -----
然后在终端执行
sudo dnsforward -d -f dnsf.config
就好了。（记得要关掉 GoAgent 的 DNS）

针对思路二，更简单。在 proxy.user.ini 里加上这么几行：
-----
[dns]
enable = 1
listen = 127.0.0.1:53
servers = 199.91.73.222|178.79.131.110|8.8.8.8|8.8.4.4|168.95.1.1|168.95.192.1|223.5.5.5|223.6.6.6|114.114.114.114|114.114.115.115
-----
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc44">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 10:10:03 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c44" href="/p/goagent/issues/detail?id=19254#c44">#44</a>
 

 <a class="userlink"
 href="/u/108149545414327228582/">hkbrya...@gmail.com</a
></span>
 
<pre>
RE #43
我的MAC上一直用的3.1.18,27号之后不行了.WIN上的3.1.20一直没有问题,但上了MAC也用不了. 
MAC今天试了你的DNSFORWARDER方法1也不能用,还有人说用别的DNS就可以,或者改这改那,但在我的MAC上都不行. (另外我的系统没有升级到最新版,去年买了之后就没有升级过.)
如果别的方法都不行,可以试一下最新的3.2.3. 这个其实不难,如果出来The requested URL /_gh/ 
was not found on this server.再去重新上传就好了.

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc45">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 10:17:02 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c45" href="/p/goagent/issues/detail?id=19254#c45">#45</a>
 

 <a class="userlink"
 href="/u/108149545414327228582/">hkbrya...@gmail.com</a
></span>
 
<pre>
本人纯用家,一点代码不懂. 要非常谢谢你,因为我觉得新的版本可能用了你的方法2. 
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc46">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 10:27:58 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c46" href="/p/goagent/issues/detail?id=19254#c46">#46</a>
 

 <a class="userlink"
 href="/u/102799064403840401023/">foo...@gmail.com</a
></span>
 
<pre>
从技术的角度我还是想知道为什么使用mac自带的dns api(从楼主的解决说明推测goagent mac版本是这么工作的吧)无法得到有效的IP
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc48">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 11:12:21 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c48" href="/p/goagent/issues/detail?id=19254#c48">#48</a>
 

 <a class="userlink"
 href="/u/102799064403840401023/">foo...@gmail.com</a
></span>
 
<pre>
方法2在我这里无效，还是good_ip = 0 ,确定是方法二步骤都做过了（除了uvent是clone来自<a href="https://github.com/saghul/uvent.git）" rel="nofollow">https://github.com/saghul/uvent.git）</a>, 系统是marvrick
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc49">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 17:20:44 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c49" href="/p/goagent/issues/detail?id=19254#c49">#49</a>
 

 <a class="userlink"
 href="/u/117332631799915185887/">qq5910...@gmail.com</a
></span>
 
<pre>
3.2.3版本，你的第二种方法是不行的。
3.1.19版本，第二种方法是可以的，不过你还少装了一个gevent，sudo easy_install gevent   
现在用的很爽。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc50">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 18:58:53 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c50" href="/p/goagent/issues/detail?id=19254#c50">#50</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #49

在 Mac 里如果开启 GoAgent 的 DNS 服务器，则必须要安装 gevent。因此我默认用户已经安装好了 gevent。

除却 gevent 之外，还需要安装 dnslib 这个 Python Module。

总之祝好，以及新年快乐~！

Re #46 #48

Uvent 用了 libuv，IO 性能和异步操作性能想必 gevent 有不小的提升。具体为什么原本的 gevent 不行我就不知道了，没有具体去分析。

clone 的方法无所谓，协议不同而已。

我建议你检查 #43 里的内容，你所在地区的 ISP 可能对 GoAgent 默认配置的上游 DNS 做了干扰。

Re #45

谢谢你: )

Re #44

各地的情况不一样的。从我测试的情况看，大多数人还是需要去解决 DNS 的问题。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc51">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jan  1 22:57:52 2015">
 Jan 1, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c51" href="/p/goagent/issues/detail?id=19254#c51">#51</a>
 

 <a class="userlink"
 href="/u/115001297445573747653/">douban...@gmail.com</a
></span>
 
<pre>
感谢楼主了，说的这么详细 :)
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc52">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jan  2 02:19:09 2015">
 Jan 2, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c52" href="/p/goagent/issues/detail?id=19254#c52">#52</a>
 

 <a class="userlink"
 href="/u/103132895859697727680/">dadaogou...@gmail.com</a
></span>
 
<pre>
方法一还是不行，我最后直接在OS--偏好设置里加上了自己找的dns,就好了，不知道什么原因，如果加8.8.8.8和8.8.4.4仍然不行。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc53">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jan  2 03:52:38 2015">
 Jan 2, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c53" href="/p/goagent/issues/detail?id=19254#c53">#53</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #52

参考 #43 我的回复。用你自己找到的 DNS 地址替换掉 8.8.8.8 还有 4.4.4.4。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc55">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jan  2 04:18:03 2015">
 Jan 2, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c55" href="/p/goagent/issues/detail?id=19254#c55">#55</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
结合自己的实践以及 Issue 里大家的回复，阶段性小结如下。

1. 执行方案一和方案二，均有成功的例子。
2. 执行方案一之后未成功，但在系统偏好设置里修改 DNS 为 v2ex 的 DNS 之后成功。

综合推断 #0 的判断是正确的，即：原本的 GoAgent 自带的 DNSserver 在 Mac OS X 上没有正常工作，需要调整 DNS 配置。
出现 1 和 2 的原因，推测是不同地区的网络环境（ni dong de）不同，部分地区 Google Public DNS 被干扰；这与长久以来对某 W 的 ISP + 主干网络结合的推断是保持一致的。

-----

方案二的相关代码已经推送给 dnsproxy 项目，下一次 GoAgent 正式更新的时候应该能够更新到。

-----

#52 和 <a title="很感谢大家这几天来的帮助 MacBook终于恢复到原来的速度了"  href="/p/goagent/issues/detail?id=19281">Issue 19281</a> 中均提到将 DNS 配置为 V2EX 提供的服务即可解决，这很好。但是 V2EX 的服务器一个在 USA 一个在 UK，实际上解析的过程依然可能会受到 W 的影响；直接在系统偏好设置里并没有办法规避这些干扰。因此依然建议使用 dnsforwarder 或者 GoAgent 自带的 dnsproxy，当然，需要做一些额外的配置。

两个方案更新如下。

方案一：

* 下载：<a href="https://raw.githubusercontent.com/holmium/dnsforwarder/5/mac_bin/dnsforwarder" rel="nofollow">https://raw.githubusercontent.com/holmium/dnsforwarder/5/mac_bin/dnsforwarder</a>
* 终端：chmod +x dnsforwarder
* 终端：open .
* 在打开的目录中，将以下内容保存为 dnsf.config

# 主服务器协议设为 UDP
PrimaryServer UDP
# UDP 服务器中务必有一个国外服务器
UDPServer 114.114.114.114, 114.114.115.115, 8.8.8.8, 8.8.4.4, 199.91.73.222, 178.79.131.110
TCPServer 8.8.8.8, 8.8.4.4, 199.91.73.222, 178.79.131.110 
# 开启并发查询
ParallelQuery true
# 开启 DNS 反投毒过滤
UDPAntiPollution true
# 过滤伪造 IP
UDPBlock_IP 37.61.54.158, 59.24.3.173, 72.52.244.56, 157.112.145.6, 80.76.158.94, 207.230.151.254, 184.154.10.146, 91.208.42.72, 199.48.254.135, 109.71.81.130, 193.104.136.38, 189.36.20.55, 119.18.57.230, 62.76.188.152, 54.92.59.138, 74.201.113.25, 54.243.105.190, 198.1.104.147, 46.182.20.123, 178.16.44.201, 221.213.49.149, 92.53.98.146, 188.138.122.63, 83.222.124.187, 194.247.136.56, 50.22.7.222, 14.192.41.68, 216.52.252.88, 193.239.132.44, 96.30.47.216, 204.236.218.138, 203.98.7.65, 108.167.140.229, 46.163.109.39, 4.31.18.250, 64.131.66.92, 173.203.62.250, 213.239.227.125
# GfwList 置空
GfwList

* 终端：sudo mv ./dnsforwarder /usr/bin/dnsforwarder
* 终端：sudo mv ./dnsf.config /usr/bin/dnsf.config
* 终端：sudo dnsforwarder -d -f dnsf.config # 这里加上 -d 参数是为了让 dnsforwarder 在后台以守护进程的方式运行
* 系统偏好设置 - 网络 - Wi-Fi - （解锁之后点击）高级 - DNS - 左下角的加号 - 填入「127.0.0.1」
* 在 GoAgent 的配置中，找到 [dns] section，以 enable = 0 关闭 GoAgent 的 DNS 模块
* 运行 GoAgent，终端：sudo ./goagent-osx.command
* enjoy

方案二：

* 安装好 Home Brew, Python-pip, Python-setuptools, Python-gevent, Python-dnslib 等备用
* 终端：brew install automake
* 终端：brew install libtool
* 终端：sudo pip install pyuv
* 终端：git clone git@github.com:saghul/uvent.git
* 终端：cd uvent
* 终端：sudo python setup.py install
* 打开 GoAgent 里的 dnsproxy.py
* 在 11 行的位置（import gevent 之前），插入两行代码：
    import uvent
    uvent.install()
* 在 GoAgent 的配置中，找到 [dns] section，将相关配置修改为：

[dns]
enable = 1
listen = 127.0.0.1:53
servers = 199.91.73.222|178.79.131.110|8.8.8.8|8.8.4.4|168.95.1.1|168.95.192.1|223.5.5.5|223.6.6.6|114.114.114.114|114.114.115.115

* 以 root 权限运行 GoAgent
* enjoy

-----

方案一启动 dnsforwarder 之后终端的反馈应该类似：

~$ sudo dnsforwarder -d -f dnsf.config
Password:
DNSforwarder by holmium. Version 5.0.11 . License : GPL v3.
Time of compilation : Sep 18 2014 22:53:07.

Please run `dnsforwarder -p' if something wrong.

Configure File : dnsf.config

deamon process pid : 4363

方案一启动 GoAgent 之后，GoAgent 的日志应该类似：

WARNING - [Dec 31 19:26:09] Load Crypto.Cipher.ARC4 Failed, Use Pure Python Instead.
------------------------------------------------------
GoAgent Version    : 3.2.3 (python/2.7.5 gevent/1.0.1 pyopenssl/0.13)
Listen Address     : 127.0.0.1:8087
GAE Mode           : https
GAE APPID          : 已隐藏
Pac Server         : http://127.0.0.1:8086/proxy.pac
Pac File           : file:///Users/Liam/Documents/GoAgent/GoAgent_3.2.3/local/proxy.pac
------------------------------------------------------
INFO - [Dec 31 19:26:16] 127.0.0.1:54874 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 19854
INFO - [Dec 31 19:26:17] 127.0.0.1:54875 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 77504
INFO - [Dec 31 19:26:17] resolve common.IPLIST_ALIAS names=['google_cn', 'google_hk', 'google_talk'] to iplist
INFO - [Dec 31 19:26:18] resolve name=google_cn host to iplist=[已隐藏]
INFO - [Dec 31 19:26:19] resolve name=google_hk host to iplist=[已隐藏]
INFO - [Dec 31 19:26:20] resolve name=google_talk host to iplist=[已隐藏]
INFO - [Dec 31 19:26:20] 127.0.0.1:54888 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 77504
INFO - [Dec 31 19:26:20] 127.0.0.1:54877 &quot;STRIP CONNECT code.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:20] ssl good_ipaddrs=0, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:24] 127.0.0.1:54877 &quot;DIRECT POST <a href="https://code.google.com/p/goagent/issues/update.do?id=19254" rel="nofollow">https://code.google.com/p/goagent/issues/update.do?id=19254</a> HTTP/1.1&quot; 301 381
INFO - [Dec 31 19:26:24] ssl good_ipaddrs=1, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:25] 127.0.0.1:54921 &quot;MOCK GET http://127.0.0.1:8086/proxy.pac HTTP/1.1&quot; 200 77504
INFO - [Dec 31 19:26:25] 127.0.0.1:54923 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:25] 127.0.0.1:54924 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:25] ssl good_ipaddrs=2, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:25] 127.0.0.1:54933 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:25] ssl good_ipaddrs=2, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:26] 127.0.0.1:54943 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">http://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:26] 127.0.0.1:54944 &quot;STRIP CONNECT www.google.com.hk:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:26] ssl good_ipaddrs=2, bad_ipaddrs=0, unknown_ipaddrs=0
INFO - [Dec 31 19:26:26] 127.0.0.1:54923 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=h" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=h</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:26] 127.0.0.1:54933 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=hah" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=hah</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:27] 127.0.0.1:54924 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=ha" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=ha</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:27] 127.0.0.1:54944 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">https://www.google.com.hk/xhtml?q=hah&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 302 481
INFO - [Dec 31 19:26:28] 127.0.0.1:54954 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">http://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:28] 127.0.0.1:54955 &quot;STRIP CONNECT www.google.com.hk:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] 127.0.0.1:54956 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54969 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54982 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54955 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">https://www.google.com.hk/xhtml?q=hah.org&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 302 485
INFO - [Dec 31 19:26:28] 127.0.0.1:54995 &quot;STRIP CONNECT clients1.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:54877 &quot;DIRECT GET <a href="https://code.google.com/p/goagent/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Opened%20Reporter%20Modified%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=19254" rel="nofollow">https://code.google.com/p/goagent/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Opened%20Reporter%20Modified%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=19254</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:28] 127.0.0.1:55008 &quot;STRIP CONNECT ssl.google-analytics.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] 127.0.0.1:55008 &quot;MOCK GET <a href="https://ssl.google-analytics.com/__utm.gif?utmwv=5.6.1&amp;utms=4&amp;utmn=1495589713&amp;utmhn=code.google.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1278x590&amp;utmsc=24-bit&amp;utmul=zh-cn&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=Issue%2019254%20-%20goagent%20-%20Mac%20%E5%BA%95%E4%B8%8B%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E5%90%8C%E5%AD%A6%E4%BB%AC%E7%9C%8B%E8%BF%87%E6%9D%A5%EF%BC%81%20-%20https%3A%2F%2Fgithub.com%2Fgoagent%2Fgoagent%20-%20Google%20Project%20Hosting&amp;utmhid=1677716880&amp;utmr=0&amp;utmp=%2Fp%2Fgoagent%2Fissues%2Fdetail%3Fcan%3D2%26start%3D0%26num%3D100%26q%3D%26colspec%3DID%252520Opened%252520Reporter%252520Modified%252520Summary%252520Stars%26groupby%3D%26sort%3D%26id%3D19254&amp;utmht=1420025188807&amp;utmac=UA-18071-1&amp;utmcc=__utma%3D247248150.1261673075.1419992236.1420016609.1420025103.3%3B%2B__utmz%3D247248150.1419992236.1.1.utmcsr%3D(direct)%7Cutmccn%3D(direct)%7Cutmcmd%3D(none)%3B&amp;utmjid=&amp;utmu=qAAgAAAAAAAAAAAAAAAAAAAE~" rel="nofollow">https://ssl.google-analytics.com/__utm.gif?utmwv=5.6.1&amp;utms=4&amp;utmn=1495589713&amp;utmhn=code.google.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1278x590&amp;utmsc=24-bit&amp;utmul=zh-cn&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=Issue%2019254%20-%20goagent%20-%20Mac%20%E5%BA%95%E4%B8%8B%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E5%90%8C%E5%AD%A6%E4%BB%AC%E7%9C%8B%E8%BF%87%E6%9D%A5%EF%BC%81%20-%20https%3A%2F%2Fgithub.com%2Fgoagent%2Fgoagent%20-%20Google%20Project%20Hosting&amp;utmhid=1677716880&amp;utmr=0&amp;utmp=%2Fp%2Fgoagent%2Fissues%2Fdetail%3Fcan%3D2%26start%3D0%26num%3D100%26q%3D%26colspec%3DID%252520Opened%252520Reporter%252520Modified%252520Summary%252520Stars%26groupby%3D%26sort%3D%26id%3D19254&amp;utmht=1420025188807&amp;utmac=UA-18071-1&amp;utmcc=__utma%3D247248150.1261673075.1419992236.1420016609.1420025103.3%3B%2B__utmz%3D247248150.1419992236.1.1.utmcsr%3D(direct)%7Cutmccn%3D(direct)%7Cutmcmd%3D(none)%3B&amp;utmjid=&amp;utmu=qAAgAAAAAAAAAAAAAAAAAAAE~</a> HTTP/1.1&quot; 200 43
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:55009 &quot;STRIP CONNECT code.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] 127.0.0.1:55019 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:28] 127.0.0.1:55022 &quot;STRIP CONNECT www.google.com.hk:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:28] ssl good_ipaddrs=3, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:29] 127.0.0.1:54956 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=h" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=h</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:29] 127.0.0.1:54982 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=hah" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=hah</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:29] 127.0.0.1:54969 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=ha" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=ha</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:29] 127.0.0.1:54995 &quot;DIRECT GET <a href="https://clients1.google.com/complete/search?client=safari&amp;q=haha" rel="nofollow">https://clients1.google.com/complete/search?client=safari&amp;q=haha</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:30] 127.0.0.1:55048 &quot;STRIP CONNECT encrypted.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:30] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:30] 127.0.0.1:55049 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:30] 127.0.0.1:55009 &quot;DIRECT POST <a href="https://code.google.com/hosting/projects" rel="nofollow">https://code.google.com/hosting/projects</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:30] ssl good_ipaddrs=5, bad_ipaddrs=11, unknown_ipaddrs=0
INFO - [Dec 31 19:26:30] 127.0.0.1:54877 &quot;DIRECT POST <a href="https://code.google.com/hosting/multilogin" rel="nofollow">https://code.google.com/hosting/multilogin</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:30] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:30] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025220272601&amp;usg=AFQjCNF7K67p2-IsH0AmFUycFwIyizRDwg</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:30] 127.0.0.1:55074 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:30] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] 127.0.0.1:55087 &quot;STRIP CONNECT s.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:31] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] 127.0.0.1:55009 &quot;DIRECT POST <a href="https://code.google.com/apis/ajax/playground/get_projects" rel="nofollow">https://code.google.com/apis/ajax/playground/get_projects</a> HTTP/1.1&quot; 301 247
INFO - [Dec 31 19:26:31] 127.0.0.1:55048 &quot;DIRECT GET <a href="https://encrypted.google.com/search?q=haha&amp;ie=utf-8&amp;oe=utf-8" rel="nofollow">https://encrypted.google.com/search?q=haha&amp;ie=utf-8&amp;oe=utf-8</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:31] 127.0.0.1:55100 &quot;STRIP CONNECT lh4.googleusercontent.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:31] 127.0.0.1:55101 &quot;STRIP CONNECT ssl.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:31] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:31] 127.0.0.1:55102 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:31] ssl good_ipaddrs=5, bad_ipaddrs=17, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] ssl good_ipaddrs=5, bad_ipaddrs=26, unknown_ipaddrs=0
INFO - [Dec 31 19:26:31] 127.0.0.1:55127 &quot;STRIP CONNECT encrypted.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:32] ssl good_ipaddrs=5, bad_ipaddrs=26, unknown_ipaddrs=0
INFO - [Dec 31 19:26:32] 127.0.0.1:55100 &quot;DIRECT GET <a href="https://lh4.googleusercontent.com/-NZ9RnrKfPhY/AAAAAAAAAAI/AAAAAAAAAAA/-mWSQ4kfBzg/s24-c/photo.jpg" rel="nofollow">https://lh4.googleusercontent.com/-NZ9RnrKfPhY/AAAAAAAAAAI/AAAAAAAAAAA/-mWSQ4kfBzg/s24-c/photo.jpg</a> HTTP/1.1&quot; 200 674
INFO - [Dec 31 19:26:32] 127.0.0.1:55087 &quot;GAE GET <a href="https://s.youtube.com/api/stats/watchtime?plid=AAULf-ML4klpFILP&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;ns=yt&amp;docid=w08pX3FX9Hs&amp;cplayer=AS3&amp;st=6136.093&amp;cver=as3&amp;ldpj=-22&amp;state=playing&amp;fexp=900718,904843,905639,927622,929305,931365,932404,934947,940333,9405696,9406110,941004,943917,947209,947218,948124,952302,952605,952901,955301,957103,957105,957201&amp;len=6186.259&amp;vm=CAI&amp;rt=6402.283&amp;cpn=V1xxlMBbDVOVK6tX&amp;cbrver=7.1.2&amp;el=detailpage&amp;cmt=6176.295&amp;ver=2&amp;cos=Mac&amp;rtn=6329&amp;rti=6289&amp;idpj=-3&amp;cbr=Safari&amp;cosver=10_9_5&amp;hl=zh_CN&amp;c=WEB&amp;cr=US&amp;of=UuWvAxnA2CGDUcU0t_VFzg&amp;et=6176.184&amp;lact=2703797&amp;fmt=135" rel="nofollow">https://s.youtube.com/api/stats/watchtime?plid=AAULf-ML4klpFILP&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;ns=yt&amp;docid=w08pX3FX9Hs&amp;cplayer=AS3&amp;st=6136.093&amp;cver=as3&amp;ldpj=-22&amp;state=playing&amp;fexp=900718,904843,905639,927622,929305,931365,932404,934947,940333,9405696,9406110,941004,943917,947209,947218,948124,952302,952605,952901,955301,957103,957105,957201&amp;len=6186.259&amp;vm=CAI&amp;rt=6402.283&amp;cpn=V1xxlMBbDVOVK6tX&amp;cbrver=7.1.2&amp;el=detailpage&amp;cmt=6176.295&amp;ver=2&amp;cos=Mac&amp;rtn=6329&amp;rti=6289&amp;idpj=-3&amp;cbr=Safari&amp;cosver=10_9_5&amp;hl=zh_CN&amp;c=WEB&amp;cr=US&amp;of=UuWvAxnA2CGDUcU0t_VFzg&amp;et=6176.184&amp;lact=2703797&amp;fmt=135</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:26:32] 127.0.0.1:55101 &quot;DIRECT GET <a href="https://ssl.gstatic.com/gb/images/h_bedf916a.png" rel="nofollow">https://ssl.gstatic.com/gb/images/h_bedf916a.png</a> HTTP/1.1&quot; 200 10460
INFO - [Dec 31 19:26:32] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025221894493&amp;usg=AFQjCNH19Omt0vvm-en4nxomzG_i6w6JCA</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:32] 127.0.0.1:55140 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:33] 127.0.0.1:55127 &quot;DIRECT GET <a href="https://encrypted.google.com/xjs/_/js/k=xjs.s.zh_CN.QikH_OD5Gog.O/m=sy9,abd,sy38,sy39,sy40,sy42,sy41,sy32,sy45,sy43,sy44,sy62,sy63,async,sy33,sy34,cdos,sy177,sy321,sy322,sy10,sy80,sy323,sy333,sy21,sy334,dvl,sy64,foot,fpe,sy167,hv,idck,sy77,lc,sy83,sy293,sy294,lrct,sy53,sy111,sy151,lu,sy340,m,sy56,sy52,sy57,sy55,sy95,sy109,sy311,mpck,sf,sy255,sy304,sy327,srl,sy84,sy118,em7,vs,sy67,sy68,sy70,sy72,sy69,sy73,sy65,sy71,sy74,tnv,sy78,sy79,sy328,cdrtoc,riu,sy246,sy247,sy248,sy281,sy285,ilrp,iur,sy99,sy58,sy97,sy100,sy127,sy126,sy131,sy128,sy132,sy130,sy129,sy139,sy195,sy245,sy253,sy178,sy133,sy82,sy125,sy252,sy308,sy134,sy206,sy309,lor,sy81,lcm,me,sy103,sy282,sy168,sy289,kptm/am=hKh_MQjKQiMQGQ/rt=j/d=0/t=zcms/rs=ACT90oETxX841rob0C2vFkN--J5RABFYzQ" rel="nofollow">https://encrypted.google.com/xjs/_/js/k=xjs.s.zh_CN.QikH_OD5Gog.O/m=sy9,abd,sy38,sy39,sy40,sy42,sy41,sy32,sy45,sy43,sy44,sy62,sy63,async,sy33,sy34,cdos,sy177,sy321,sy322,sy10,sy80,sy323,sy333,sy21,sy334,dvl,sy64,foot,fpe,sy167,hv,idck,sy77,lc,sy83,sy293,sy294,lrct,sy53,sy111,sy151,lu,sy340,m,sy56,sy52,sy57,sy55,sy95,sy109,sy311,mpck,sf,sy255,sy304,sy327,srl,sy84,sy118,em7,vs,sy67,sy68,sy70,sy72,sy69,sy73,sy65,sy71,sy74,tnv,sy78,sy79,sy328,cdrtoc,riu,sy246,sy247,sy248,sy281,sy285,ilrp,iur,sy99,sy58,sy97,sy100,sy127,sy126,sy131,sy128,sy132,sy130,sy129,sy139,sy195,sy245,sy253,sy178,sy133,sy82,sy125,sy252,sy308,sy134,sy206,sy309,lor,sy81,lcm,me,sy103,sy282,sy168,sy289,kptm/am=hKh_MQjKQiMQGQ/rt=j/d=0/t=zcms/rs=ACT90oETxX841rob0C2vFkN--J5RABFYzQ</a> HTTP/1.1&quot; 200 86256
INFO - [Dec 31 19:26:33] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:33] 127.0.0.1:55141 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:33] ssl good_ipaddrs=5, bad_ipaddrs=30, unknown_ipaddrs=0
INFO - [Dec 31 19:26:33] ssl good_ipaddrs=5, bad_ipaddrs=30, unknown_ipaddrs=0
INFO - [Dec 31 19:26:34] 127.0.0.1:55166 &quot;STRIP CONNECT www.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:34] ssl good_ipaddrs=5, bad_ipaddrs=37, unknown_ipaddrs=0
INFO - [Dec 31 19:26:34] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025223405325&amp;usg=AFQjCNHQX4BC_fwTnWp8CE_nr-q1Ncpg3A</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:34] 127.0.0.1:55179 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:34] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">https://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 302 482
INFO - [Dec 31 19:26:34] 127.0.0.1:55180 &quot;MOCK GET <a href="http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w" rel="nofollow">http://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:34] ssl good_ipaddrs=5, bad_ipaddrs=48, unknown_ipaddrs=0
INFO - [Dec 31 19:26:35] 127.0.0.1:55048 &quot;DIRECT GET <a href="https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=16&amp;imn=16&amp;imp=8&amp;ei=Z92jVPPZHYuUyQSoo4GABQ&amp;e=3700292,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.53.25.sb.34.m.9.dvl.4.c.1.cdos.1&amp;action=&amp;rt=xjsls.520,xjses.557,xjsee.606,xjs.624,prt.664,iuml_rcs.2485,iuml_nre.2485,ol.2486,iml.1562" rel="nofollow">https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=16&amp;imn=16&amp;imp=8&amp;ei=Z92jVPPZHYuUyQSoo4GABQ&amp;e=3700292,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.53.25.sb.34.m.9.dvl.4.c.1.cdos.1&amp;action=&amp;rt=xjsls.520,xjses.557,xjsee.606,xjs.624,prt.664,iuml_rcs.2485,iuml_nre.2485,ol.2486,iml.1562</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:26:35] 127.0.0.1:55166 &quot;DIRECT GET <a href="https://www.google.com/ads/measurement/t" rel="nofollow">https://www.google.com/ads/measurement/t</a> HTTP/1.1&quot; 302 318
INFO - [Dec 31 19:26:35] 127.0.0.1:55193 &quot;STRIP CONNECT www.googleadservices.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:36] 127.0.0.1:55022 &quot;DIRECT GET <a href="https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w" rel="nofollow">https://www.google.com.hk/url?sa=p&amp;hl=zh-CN&amp;pref=hkredirect&amp;pval=yes&amp;q=http://www.google.com.hk/xhtml%3Fq%3Dhaha%26site%3Duniversal%26mrestrict%3Dxhtml%26num%3D10%26ie%3DUTF-8%26oe%3DUTF-8%26gws_rd%3Dcr&amp;ust=1420025225097145&amp;usg=AFQjCNH1cOdP9wZ7hyFL2nKK5V7zdklP4w</a> HTTP/1.1&quot; 302 324
INFO - [Dec 31 19:26:36] 127.0.0.1:55194 &quot;MOCK GET <a href="http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr" rel="nofollow">http://www.google.com.hk/xhtml?q=haha&amp;site=universal&amp;mrestrict=xhtml&amp;num=10&amp;ie=UTF-8&amp;oe=UTF-8&amp;gws_rd=cr</a> HTTP/1.1&quot; 301 0
INFO - [Dec 31 19:26:36] 127.0.0.1:55193 &quot;GAE GET <a href="https://www.googleadservices.com/measurement?jaid=AJHaeXK1JjNzjhNdh_W9p2wO1oLRa9kPTPqfeX_f2hmdij-xbq06QA&amp;jaidet=16969" rel="nofollow">https://www.googleadservices.com/measurement?jaid=AJHaeXK1JjNzjhNdh_W9p2wO1oLRa9kPTPqfeX_f2hmdij-xbq06QA&amp;jaidet=16969</a> HTTP/1.1&quot; 200 42
INFO - [Dec 31 19:26:38] 127.0.0.1:55195 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:39] ssl good_ipaddrs=5, bad_ipaddrs=58, unknown_ipaddrs=0
INFO - [Dec 31 19:26:39] 127.0.0.1:55087 &quot;GAE GET <a href="https://s.youtube.com/api/stats/qoe?vps=6409.671:PL&amp;scoville=1&amp;df=6409.671:516&amp;cmt=6409.671:6183.68&amp;ns=yt&amp;cpn=V1xxlMBbDVOVK6tX&amp;docid=w08pX3FX9Hs&amp;event=streamingstats&amp;el=detailpage&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;fmt=135" rel="nofollow">https://s.youtube.com/api/stats/qoe?vps=6409.671:PL&amp;scoville=1&amp;df=6409.671:516&amp;cmt=6409.671:6183.68&amp;ns=yt&amp;cpn=V1xxlMBbDVOVK6tX&amp;docid=w08pX3FX9Hs&amp;event=streamingstats&amp;el=detailpage&amp;ei=XcSjVJqvFM_uqAPPk4HYCw&amp;fmt=135</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:26:40] 127.0.0.1:55195 &quot;DIRECT GET <a href="https://plus.google.com/u/0/_/notifications/frame?sourceid=1&amp;hl=zh-CN&amp;origin=https%3A%2F%2Fencrypted.google.com&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.gapi.en.wgbKiK972Ko.O%2Fm%3D__features__%2Frt%3Dj%2Fd%3D1%2Frs%3DAItRSTOlX0YCaQmKijyj5lpKQ5AVm7UE6A" rel="nofollow">https://plus.google.com/u/0/_/notifications/frame?sourceid=1&amp;hl=zh-CN&amp;origin=https%3A%2F%2Fencrypted.google.com&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.gapi.en.wgbKiK972Ko.O%2Fm%3D__features__%2Frt%3Dj%2Fd%3D1%2Frs%3DAItRSTOlX0YCaQmKijyj5lpKQ5AVm7UE6A</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:26:41] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0
INFO - [Dec 31 19:26:41] 127.0.0.1:55208 &quot;STRIP CONNECT www.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:41] 127.0.0.1:55209 &quot;STRIP CONNECT s.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:41] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0
INFO - [Dec 31 19:26:41] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0
INFO - [Dec 31 19:26:42] 127.0.0.1:55246 &quot;STRIP CONNECT www.youtube.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:26:42] ssl good_ipaddrs=5, bad_ipaddrs=61, unknown_ipaddrs=0

方案二启动 GoAgent 之后，GoAgent 的日志应该类似：

WARNING - [Dec 31 19:31:47] Load Crypto.Cipher.ARC4 Failed, Use Pure Python Instead.
------------------------------------------------------
GoAgent Version    : 3.2.3 (python/2.7.5 gevent/1.0.1 pyopenssl/0.13)
Listen Address     : 127.0.0.1:8087
GAE Mode           : https
GAE APPID          : 已隐藏
Pac Server         : http://127.0.0.1:8086/proxy.pac
Pac File           : file:///Users/Liam/Documents/GoAgent/GoAgent_3.2.3/local/proxy.pac
DNS Listen         : 127.0.0.1:53
DNS Servers        : 199.91.73.222|178.79.131.110|8.8.8.8|8.8.4.4|168.95.1.1|168.95.192.1|223.5.5.5|223.6.6.6|114.114.114.114|114.114.115.115
------------------------------------------------------
INFO - [Dec 31 19:31:49] resolve common.IPLIST_ALIAS names=['google_cn', 'google_hk', 'google_talk'] to iplist
INFO - [Dec 31 19:31:49] resolve name=google_cn host to iplist=[已隐藏]
INFO - [Dec 31 19:31:49] resolve name=google_hk host to iplist=[已隐藏]
INFO - [Dec 31 19:31:49] resolve name=google_talk host to iplist=[已隐藏]
INFO - [Dec 31 19:31:49] 127.0.0.1:57409 &quot;STRIP CONNECT ssl.gstatic.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:31:49] 127.0.0.1:57410 &quot;STRIP CONNECT encrypted.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:31:49] ssl good_ipaddrs=0, bad_ipaddrs=0, unknown_ipaddrs=0
WARNING - [Dec 31 19:31:55] create_ssl_connection to 'encrypted.google.com' with [已隐藏] return ['timed out'], try again.
INFO - [Dec 31 19:31:55] ssl good_ipaddrs=0, bad_ipaddrs=12, unknown_ipaddrs=0
WARNING - [Dec 31 19:32:01] create_ssl_connection to 'encrypted.google.com' with [已隐藏] return ['timed out'], try again.
INFO - [Dec 31 19:32:01] ssl good_ipaddrs=0, bad_ipaddrs=21, unknown_ipaddrs=0
INFO - [Dec 31 19:32:04] 127.0.0.1:57410 &quot;DIRECT GET <a href="https://encrypted.google.com/search?&amp;q=%E7%A5%9E%E5%95%8A" rel="nofollow">https://encrypted.google.com/search?&amp;q=%E7%A5%9E%E5%95%8A</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:32:05] 127.0.0.1:57460 &quot;STRIP CONNECT plus.google.com:443 HTTP/1.1&quot; - -
INFO - [Dec 31 19:32:05] ssl good_ipaddrs=2, bad_ipaddrs=21, unknown_ipaddrs=0
INFO - [Dec 31 19:32:06] 127.0.0.1:57410 &quot;DIRECT GET <a href="https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=27&amp;imn=27&amp;imp=0&amp;ei=s96jVPLPOZKHgwTgqYGAAQ&amp;e=3300107,3300134,3300137,3300164,3310705,3312195,3700062,3700243,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.57.26.sb.37.m.5.spch.5.dvl.3.c.2&amp;action=&amp;srt=15045&amp;rt=xjsls.992,xjses.1048,xjsee.1122,xjs.1128,iuml_rcs.1202,iuml_nre.1202,prt.1392,ol.1789,iml.1392,wsrt.15045,cst.788,dnst.0,rqst.16000,rspt.1831,sslt.9,rqstt.818,unt.1,cstt.30,dit.16822" rel="nofollow">https://encrypted.google.com/gen_204?v=3&amp;s=web&amp;imc=27&amp;imn=27&amp;imp=0&amp;ei=s96jVPLPOZKHgwTgqYGAAQ&amp;e=3300107,3300134,3300137,3300164,3310705,3312195,3700062,3700243,4005878,4011559,4016824,4020346,4020562,4021073,4021587,4021597,4023011,4023018,4023709,4025113,4025115,4025119,4025769,4025771,4026006,4026397,8300096,8300111,8500393,8500819,8500851,8500922,10200083,10200716,10200816,10200828,10200834&amp;atyp=csi&amp;adh=&amp;xjs=init.57.26.sb.37.m.5.spch.5.dvl.3.c.2&amp;action=&amp;srt=15045&amp;rt=xjsls.992,xjses.1048,xjsee.1122,xjs.1128,iuml_rcs.1202,iuml_nre.1202,prt.1392,ol.1789,iml.1392,wsrt.15045,cst.788,dnst.0,rqst.16000,rspt.1831,sslt.9,rqstt.818,unt.1,cstt.30,dit.16822</a> HTTP/1.1&quot; 204 0
INFO - [Dec 31 19:32:07] 127.0.0.1:57460 &quot;DIRECT POST <a href="https://plus.google.com/u/0/_/n/gcosuc?origin=https%3A%2F%2Fencrypted.google.com" rel="nofollow">https://plus.google.com/u/0/_/n/gcosuc?origin=https%3A%2F%2Fencrypted.google.com</a> HTTP/1.1&quot; 200 -
INFO - [Dec 31 19:32:07] 127.0.0.1:57473 &quot;STRIP CONNECT csi.gstatic.com:443 HTTP/1.1&quot; - -
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc56">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jan  2 11:30:34 2015">
 Jan 2, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c56" href="/p/goagent/issues/detail?id=19254#c56">#56</a>
 

 <a class="userlink"
 href="/u/103132895859697727680/">dadaogou...@gmail.com</a
></span>
 
<pre>
Re #55 完全按照方法一，还是不行，出现如下问题，请问该怎么调试？？
INFO - [Jan  3 03:26:01] resolve common.IPLIST_ALIAS names=['google_cn', 'google_hk', 'google_talk'] to iplist
INFO - [Jan  3 03:26:09] resolve name=google_cn host to iplist=[已经隐藏]
ERROR - [Jan  3 03:26:17] resolve google_hk host return empty! please retry!
----------------------------------------
Exception happened during processing of request from ('127.0.0.1', 57207)
Traceback (most recent call last):
  File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/SocketServer.py&quot;, line 593, in process_request_thread
    self.finish_request(request, client_address)
  File &quot;/Users/D/goagent/local/proxylib.py&quot;, line 904, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File &quot;proxy.py&quot;, line 721, in __init__
    SimpleProxyHandler.__init__(self, *args, **kwargs)
  File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/SocketServer.py&quot;, line 647, in __init__
    self.setup()
  File &quot;/Users/D/goagent/local/proxylib.py&quot;, line 2222, in setup
    self.first_run()
  File &quot;proxy.py&quot;, line 727, in first_run
    common.resolve_iplist()
  File &quot;proxy.py&quot;, line 1452, in resolve_iplist
    sys.exit(-1)
SystemExit: -1
----------------------------------------
INFO - [Jan  3 03:26:17] resolve common.IPLIST_ALIAS names=['google_cn', 'google_hk', 'google_talk'] to iplist
ERROR - [Jan  3 03:26:25] resolve google_hk host return empty! please retry!
----------------------------------------
Exception happened during processing of request from ('127.0.0.1', 57208)
Traceback (most recent call last):
  File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/SocketServer.py&quot;, line 593, in process_request_thread
    self.finish_request(request, client_address)
  File &quot;/Users/D/goagent/local/proxylib.py&quot;, line 904, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File &quot;proxy.py&quot;, line 721, in __init__
    SimpleProxyHandler.__init__(self, *args, **kwargs)
  File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/SocketServer.py&quot;, line 647, in __init__
    self.setup()
  File &quot;/Users/D/goagent/local/proxylib.py&quot;, line 2222, in setup
    self.first_run()
  File &quot;proxy.py&quot;, line 727, in first_run
    common.resolve_iplist()
  File &quot;proxy.py&quot;, line 1452, in resolve_iplist
    sys.exit(-1)
SystemExit: -1
----------------------------------------
WARNING - [Jan  3 03:26:31] socket.getaddrinfo host='www.g.cn' failed: [Errno 8] nodename nor servname provided, or not known
WARNING - [Jan  3 03:27:01] socket.getaddrinfo host='www5.l.google.com' failed: [Errno 8] nodename nor servname provided, or not known
WARNING - [Jan  3 03:27:31] socket.getaddrinfo host='mail.l.google.com' failed: [Errno 8] nodename nor servname provided, or not known
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc57">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jan  2 18:05:56 2015">
 Jan 2, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c57" href="/p/goagent/issues/detail?id=19254#c57">#57</a>
 

 <a class="userlink"
 href="/u/117420241956800272238/">yund...@gmail.com</a
></span>
 
<pre>
第一个方法，实验无效，根据第一个思路，改用 了自己找得dns可行，3.2.3报证书问题。3.2.2 可用了。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc58">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jan  2 19:04:45 2015">
 Jan 2, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c58" href="/p/goagent/issues/detail?id=19254#c58">#58</a>
 

 <a class="userlink"
 href="/u/111225730422077567154/">liamhuan...@gmail.com</a
></span>
 
<pre>
Re #57

恭喜。

3.2.3 需要在钥匙串里把原来的证书删掉，然后将新生成的整数 CA.crt 放在系统钥匙串下，并设置为「总是信任」。

Re #56

参考 #57、#52 和 <a title="很感谢大家这几天来的帮助 MacBook终于恢复到原来的速度了"  href="/p/goagent/issues/detail?id=19281">Issue 19281</a> 的思路。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc59">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jan  2 20:24:24 2015">
 Jan 2, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c59" href="/p/goagent/issues/detail?id=19254#c59">#59</a>
 

 <a class="userlink"
 href="/u/117332631799915185887/">qq5910...@gmail.com</a
></span>
 
<pre>
#56 感谢楼主热心分享，dns污染也可以用DNSCrypt，当然不要用它推荐的默认的opendns的服务器，你懂滴！我这边的情况是google、youtube、gmail访问很困难，只有草榴是很顺畅的 ╮(╯▽╰)╭。目前是goagent 3.1.19 + DNSCrypt 1.0.4 
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc60">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sat Jan  3 06:29:03 2015">
 Jan 3, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c60" href="/p/goagent/issues/detail?id=19254#c60">#60</a>
 

 <a class="userlink"
 href="/u/108149545414327228582/">hkbrya...@gmail.com</a
></span>
 
<pre>
3.2.3用了3天又不行了. 加了DNSCrypt又可以了. 但是真的不能用默认的opendns的服务器. 
谢谢59楼.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc61">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sat Jan  3 23:44:17 2015">
 Jan 3, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c61" href="/p/goagent/issues/detail?id=19254#c61">#61</a>
 

 <a class="userlink"
 href="/u/103057961784732812980/">linjian...@gmail.com</a
></span>
 
<pre>
用方法一目前可用，谢谢分享
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc62">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sun Jan  4 18:40:46 2015">
 Jan 4, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c62" href="/p/goagent/issues/detail?id=19254#c62">#62</a>
 

 <a class="userlink"
 href="/u/111496389929028258475/">jka...@gmail.com</a
></span>
 
<pre>
方法一时好时坏，最常见的情况是，整个goagent &quot;freezes&quot;, 譬如下面的情况
INFO - [Jan  5 10:38:59] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:38:59] 127.0.0.1:62075 &quot;MOCK GET <a href="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&amp;callback=jQuery17105790220706257969_1420425536854&amp;q=&amp;num=10&amp;output=json_xml&amp;_=1420425539886" rel="nofollow">http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&amp;callback=jQuery17105790220706257969_1420425536854&amp;q=&amp;num=10&amp;output=json_xml&amp;_=1420425539886</a> HTTP/1.1&quot; 301 0
INFO - [Jan  5 10:38:59] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] 127.0.0.1:62250 &quot;STRIP CONNECT ajax.googleapis.com:443 HTTP/1.1&quot; - -
INFO - [Jan  5 10:39:00] 127.0.0.1:62251 &quot;STRIP CONNECT www.google-analytics.com:443 HTTP/1.1&quot; - -
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=8, bad_ipaddrs=78, unknown_ipaddrs=256
INFO - [Jan  5 10:39:00] 127.0.0.1:62251 &quot;DIRECT GET <a href="https://www.google-analytics.com/ga.js" rel="nofollow">https://www.google-analytics.com/ga.js</a> HTTP/1.1&quot; 304 -
INFO - [Jan  5 10:39:00] 127.0.0.1:62318 &quot;MOCK GET <a href="http://www.google-analytics.com/r/__utm.gif?utmwv=5.6.1&amp;utms=1&amp;utmn=1590830123&amp;utmhn=www.liveleak.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1150x596&amp;utmsc=24-bit&amp;utmul=en-us&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=LiveLeak.com%20-%20Channel%3A%20Syria&amp;utmhid=134860220&amp;utmr=-&amp;utmp=%2Fc%2Fsyria&amp;utmht=1420425540592&amp;utmac=UA-315839-4&amp;utmcc=__utma%3D132985235.988670694.1405077958.1420367524.1420425541.706%3B%2B__utmz%3D132985235.1408157470.137.2.utmcsr%3Dliveleak.com%7Cutmccn%3D(referral)%7Cutmcmd%3Dreferral%7Cutmcct%3D%2Fc%2Fsyria%3B&amp;utmjid=929344386&amp;utmredir=1&amp;utmu=qBAAAAAAAAAAAAAAAAAAAAAE~" rel="nofollow">http://www.google-analytics.com/r/__utm.gif?utmwv=5.6.1&amp;utms=1&amp;utmn=1590830123&amp;utmhn=www.liveleak.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1150x596&amp;utmsc=24-bit&amp;utmul=en-us&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=LiveLeak.com%20-%20Channel%3A%20Syria&amp;utmhid=134860220&amp;utmr=-&amp;utmp=%2Fc%2Fsyria&amp;utmht=1420425540592&amp;utmac=UA-315839-4&amp;utmcc=__utma%3D132985235.988670694.1405077958.1420367524.1420425541.706%3B%2B__utmz%3D132985235.1408157470.137.2.utmcsr%3Dliveleak.com%7Cutmccn%3D(referral)%7Cutmcmd%3Dreferral%7Cutmcct%3D%2Fc%2Fsyria%3B&amp;utmjid=929344386&amp;utmredir=1&amp;utmu=qBAAAAAAAAAAAAAAAAAAAAAE~</a> HTTP/1.1&quot; 301 0
WARNING - [Jan  5 10:39:00] create_ssl_connection to 'www.google.com.hk' with [('74.125.142.90', 443), ('64.233.182.90', 443), ('74.125.207.90', 443), ('173.194.37.214', 443), ('173.194.65.90', 443), ('64.233.186.90', 443), ('74.125.31.19', 443), ('74.125.31.113', 443), ('74.125.24.17', 443), ('74.125.31.83', 443), ('74.125.24.19', 443), ('173.194.127.215', 443), ('173.194.127.244', 443), ('74.125.203.106', 443), ('64.233.187.199', 443), ('74.125.235.230', 443), ('173.194.127.197', 443), ('173.194.127.135', 443)] return ['[Errno 8] _ssl.c:507: EOF occurred in violation of protocol', 'timed out', 'The handshake operation timed out'], try again.
INFO - [Jan  5 10:39:00] ssl good_ipaddrs=12, bad_ipaddrs=78, unknown_ipaddrs=252
INFO - [Jan  5 10:39:00] 127.0.0.1:62251 &quot;DIRECT GET <a href="https://www.google-analytics.com/r/__utm.gif?utmwv=5.6.1&amp;utms=1&amp;utmn=1590830123&amp;utmhn=www.liveleak.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1150x596&amp;utmsc=24-bit&amp;utmul=en-us&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=LiveLeak.com%20-%20Channel%3A%20Syria&amp;utmhid=134860220&amp;utmr=-&amp;utmp=%2Fc%2Fsyria&amp;utmht=1420425540592&amp;utmac=UA-315839-4&amp;utmcc=__utma%3D132985235.988670694.1405077958.1420367524.1420425541.706%3B%2B__utmz%3D132985235.1408157470.137.2.utmcsr%3Dliveleak.com%7Cutmccn%3D(referral)%7Cutmcmd%3Dreferral%7Cutmcct%3D%2Fc%2Fsyria%3B&amp;utmjid=929344386&amp;utmredir=1&amp;utmu=qBAAAAAAAAAAAAAAAAAAAAAE~" rel="nofollow">https://www.google-analytics.com/r/__utm.gif?utmwv=5.6.1&amp;utms=1&amp;utmn=1590830123&amp;utmhn=www.liveleak.com&amp;utmcs=UTF-8&amp;utmsr=1280x800&amp;utmvp=1150x596&amp;utmsc=24-bit&amp;utmul=en-us&amp;utmje=1&amp;utmfl=16.0%20r0&amp;utmdt=LiveLeak.com%20-%20Channel%3A%20Syria&amp;utmhid=134860220&amp;utmr=-&amp;utmp=%2Fc%2Fsyria&amp;utmht=1420425540592&amp;utmac=UA-315839-4&amp;utmcc=__utma%3D132985235.988670694.1405077958.1420367524.1420425541.706%3B%2B__utmz%3D132985235.1408157470.137.2.utmcsr%3Dliveleak.com%7Cutmccn%3D(referral)%7Cutmcmd%3Dreferral%7Cutmcct%3D%2Fc%2Fsyria%3B&amp;utmjid=929344386&amp;utmredir=1&amp;utmu=qBAAAAAAAAAAAAAAAAAAAAAE~</a> HTTP/1.1&quot; 200 35


</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc63">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Jan  5 19:17:06 2015">
 Jan 5, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c63" href="/p/goagent/issues/detail?id=19254#c63">#63</a>
 

 <a class="userlink"
 href="/u/102776856282663592131/">shg....@gmail.com</a
></span>
 
<pre>
方案一，试了下不起作用，又白忙活了
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc64">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Jan  5 21:16:02 2015">
 Jan 5, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c64" href="/p/goagent/issues/detail?id=19254#c64">#64</a>
 

 <a class="userlink"
 href="/u/114709215211551080741/">snipk...@gmail.com</a
></span>
 
<pre>
对3.2.3无效，但是解决了最近3.1.15的问题，赞

BTW DNSCrypt 比 dnsforwarder 好用一点
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc65">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Jan  6 11:13:26 2015">
 Jan 6, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c65" href="/p/goagent/issues/detail?id=19254#c65">#65</a>
 

 <a class="userlink"
 href="/u/115489195014150358281/">lsb1...@gmail.com</a
></span>
 
<pre>
我在使用3.2.3版本
我使用sudo python /Applications/gae/local/proxy.py 就能正常使用了。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc66">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sun Jan 11 01:54:19 2015">
 Jan 11, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c66" href="/p/goagent/issues/detail?id=19254#c66">#66</a>
 

 <a class="userlink"
 href="/u/116088768356889061638/">kwanh...@gmail.com</a
></span>
 
<pre>
<a href="https://code.google.com/p/goagent/issues/detail?id=19233" rel="nofollow">https://code.google.com/p/goagent/issues/detail?id=19233</a>

#31 evan9...@gmail.com
To #30
我也是死活上不去 然后改了下DNS 
上<a href="http://dns.v2ex.com/" rel="nofollow">http://dns.v2ex.com/</a> 把DNS写入系统偏好设置－网络－高级－dns
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc67">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Feb  4 05:56:30 2015">
 Feb 4, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c67" href="/p/goagent/issues/detail?id=19254#c67">#67</a>
 

 <a class="userlink"
 href="/u/115937705006400764373/">lhacl...@gmail.com</a
></span>
 
<pre>
ERROR - [Feb  4 21:48:22] GoAgent DNSServer requires dnslib and gevent 1.0

Traceback (most recent call last):

  File &quot;proxy.py&quot;, line 1618, in main

    from dnsproxy import DNSServer

  File &quot;/Users/lhac/Downloads/goagent-3.0/local/dnsproxy.py&quot;, line 12, in &lt;module&gt;

    uvent.install()

  File &quot;build/bdist.macosx-10.10-intel/egg/uvent/__init__.py&quot;, line 22, in install

    patch_loop()

  File &quot;build/bdist.macosx-10.10-intel/egg/uvent/__init__.py&quot;, line 15, in patch_loop

    from gevent.resolver_thread import Resolver

ImportError: No module named resolver_thread

这是什么情况呢？
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc68">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Feb  4 06:00:09 2015">
 Feb 4, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c68" href="/p/goagent/issues/detail?id=19254#c68">#68</a>
 

 <a class="userlink"
 href="/u/115937705006400764373/">lhacl...@gmail.com</a
></span>
 
<pre>
我是用的方法2
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc70">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sat Feb  7 10:37:43 2015">
 Feb 7, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c70" href="/p/goagent/issues/detail?id=19254#c70">#70</a>
 

 <a class="userlink"
 href="/u/112177886049474520146/">22c...@gmail.com</a
></span>
 
<pre>
按照方法2还是不行，mac用goagent竟然是这么困难。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc71">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Mar 31 08:09:26 2015">
 Mar 31, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c71" href="/p/goagent/issues/detail?id=19254#c71">#71</a>
 

 <a class="userlink"
 href="/u/104379369401269039021/">ODMar...@gmail.com</a
></span>
 
<pre>
安装pyuv的时候遇到问题，问题如下：

命令：
    pip install pyuv -i <a href="http://pypi.douban.com/simple" rel="nofollow">http://pypi.douban.com/simple</a>
输出信息：
Collecting pyuv
  This repository located at pypi.douban.com is not a trusted host, if this repository is available via HTTPS it is recommend to use HTTPS instead, otherwise you may silence this warning with '--trusted-host pypi.douban.com'.
  DEPRECATION: Implicitly allowing locations which are not hosted at a secure origin is deprecated and will require the use of --trusted-host in the future.
  Downloading <a href="http://pypi.douban.com/packages/source/p/pyuv/pyuv-1.0.2.tar.gz" rel="nofollow">http://pypi.douban.com/packages/source/p/pyuv/pyuv-1.0.2.tar.gz</a> (1.5MB)
    100% |################################| 1.5MB 1.5MB/s 
Installing collected packages: pyuv
  Running setup.py install for pyuv
    libuv needs to be compiled.
    Building libuv...
    error: Got return value 1 while executing &quot;sh autogen.sh&quot;, output was:
    stderr:
    + glibtoolize
    /usr/local/bin/glibtoolize: line 406: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    /usr/local/bin/glibtoolize: line 2455: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    /usr/local/bin/glibtoolize: line 2455: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    /usr/local/bin/glibtoolize: line 757: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    :   error: $pkgauxdir is not a directory: '@@HOMEBREW_CELLAR@@/libtool/2.4.4/share/libtool/build-aux'
    stdout:
    Complete output from command /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -c &quot;import setuptools, tokenize;__file__='/private/var/folders/8j/pgnrhdnd313glgfq90f9_4mw0000gn/T/pip-build-Sz3cZk/pyuv/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))&quot; install --record /var/folders/8j/pgnrhdnd313glgfq90f9_4mw0000gn/T/pip-V9AMd0-record/install-record.txt --single-version-externally-managed --compile:
    running install
    
    running build
    
    running build_py
    
    creating build
    
    creating build/lib.macosx-10.6-intel-2.7
    
    creating build/lib.macosx-10.6-intel-2.7/pyuv
    
    copying pyuv/__init__.py -&gt; build/lib.macosx-10.6-intel-2.7/pyuv
    
    copying pyuv/_version.py -&gt; build/lib.macosx-10.6-intel-2.7/pyuv
    
    running build_ext
    
    libuv needs to be compiled.
    
    Building libuv...
    
    error: Got return value 1 while executing &quot;sh autogen.sh&quot;, output was:
    
    stderr:
    
    + glibtoolize
    
    /usr/local/bin/glibtoolize: line 406: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    
    /usr/local/bin/glibtoolize: line 2455: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    
    /usr/local/bin/glibtoolize: line 2455: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    
    /usr/local/bin/glibtoolize: line 757: @@HOMEBREW_PREFIX@@/Library/ENV/4.3/sed: No such file or directory
    
    :   error: $pkgauxdir is not a directory: '@@HOMEBREW_CELLAR@@/libtool/2.4.4/share/libtool/build-aux'
    
    stdout:
    
    
    
    ----------------------------------------
    Command &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -c &quot;import setuptools, tokenize;__file__='/private/var/folders/8j/pgnrhdnd313glgfq90f9_4mw0000gn/T/pip-build-Sz3cZk/pyuv/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))&quot; install --record /var/folders/8j/pgnrhdnd313glgfq90f9_4mw0000gn/T/pip-V9AMd0-record/install-record.txt --single-version-externally-managed --compile&quot; failed with error code 1 in /private/var/folders/8j/pgnrhdnd313glgfq90f9_4mw0000gn/T/pip-build-Sz3cZk/pyuv
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc72">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sun Apr  5 01:22:42 2015">
 Apr 5, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c72" href="/p/goagent/issues/detail?id=19254#c72">#72</a>
 

 <a class="userlink"
 href="/u/101398626441930036778/">zmot...@gmail.com</a
></span>
 
<pre>
按第一种方案，GoAgent已经在OS X 10.10.2下复活了，谢谢楼主
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc73">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Apr  8 03:34:20 2015">
 Apr 8, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c73" href="/p/goagent/issues/detail?id=19254#c73">#73</a>
 

 <a class="userlink"
 href="/u/111248597960546005386/">slkuner...@gmail.com</a
></span>
 
<pre>
请教楼主，方法二可用，但是怎么退出呢。。。退出终端，再打开的话就会弹错，必须重启。
错误信息：
Traceback (most recent call last):
  File &quot;/applications/goagent/local/proxy.py&quot;, line 1667, in &lt;module&gt;
    main()
  File &quot;/applications/goagent/local/proxy.py&quot;, line 1615, in main
    thread.start_new_thread(LocalProxyServer((common.PAC_IP, common.PAC_PORT), PACProxyHandler).serve_forever, tuple())
  File &quot;/Applications/goagent/local/proxylib.py&quot;, line 924, in __init__
    SocketServer.ThreadingTCPServer.__init__(self, listener, RequestHandlerClass, bind_and_activate)
  File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/SocketServer.py&quot;, line 419, in __init__
    self.server_bind()
  File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/SocketServer.py&quot;, line 430, in server_bind
    self.socket.bind(self.server_address)
  File &quot;&lt;string&gt;&quot;, line 1, in bind
socket.error: [Errno 48] Address already in use
谢谢
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc74">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sun Apr 12 04:52:42 2015">
 Apr 12, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c74" href="/p/goagent/issues/detail?id=19254#c74">#74</a>
 

 <a class="userlink"
 href="/u/116264994289841242038/">albertww...@gmail.com</a
></span>
 
<pre>
也被这个问题折腾了，但是解决了，感觉自己的解决方法像个萨满巫师。经测试win和linux是可以的，就是mac不行，貌似被歧视了。由于时间精力有限，毕竟goagent只是个工具，不想屎磕，想到一个替代方法，把浏览器proxy地址设置为win或linux虚拟机地址，虚拟机的proxy.ini的listen设置为局域网地址，这样不就可以用了吗。此路不通换条思路。
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc75">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Apr 23 07:29:58 2015">
 Apr 23, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c75" href="/p/goagent/issues/detail?id=19254#c75">#75</a>
 

 <a class="userlink"
 href="/u/116050243098416193274/">shanhao2...@gmail.com</a
></span>
 
<pre>
方法二，已OK
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc76">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Apr 24 23:58:00 2015">
 Apr 24, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c76" href="/p/goagent/issues/detail?id=19254#c76">#76</a>
 

 <a class="userlink"
 href="/u/113384776842209274765/">jsnjyc...@gmail.com</a
></span>
 
<pre>
关键还是IP问题吧
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment"
 id="hc77">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sat Apr 25 02:03:49 2015">
 Apr 25, 2015
 </span>
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c77" href="/p/goagent/issues/detail?id=19254#c77">#77</a>
 

 <a class="userlink"
 href="/u/100459789203974407051/">nju...@gmail.com</a
></span>
 
<pre>
一直有这个问题，mac下经常抽风


换成goagent好了
</pre>
 
 
 </div>
 


 


 </td>
 </tr>

</tbody>
</table>
<br>
<script type="text/javascript" src="https://ssl.gstatic.com/codesite/ph/10671232128890609530/js/dit_scripts.js"></script>



</div> 
<form name="delcom" action="delComment.do?q=&amp;can=2&amp;groupby=&amp;sort=&amp;colspec=ID+Opened+Reporter+Modified+Summary+Stars" method="POST">
 <input type="hidden" name="sequence_num" value="">
 <input type="hidden" name="mode" value="">
 <input type="hidden" name="id" value="19254">
 <input type="hidden" name="token" value="">
</form>

<div id="helparea"></div>
<script type="text/javascript">
 _onload();
 function delComment(sequence_num, delete_mode) {
 var f = document.forms["delcom"];
 f.sequence_num.value = sequence_num;
 f.mode.value = delete_mode;
 
 f.submit();
 return false;
 }
 
 _floatMetadata();
</script>
<script type="text/javascript" src="https://ssl.gstatic.com/codesite/ph/10671232128890609530/js/kibbles.js"></script>
<script type="text/javascript">
 _setupKibblesOnDetailPage(
 'https://code.google.com/p/goagent/issues/list?cursor\x3dgoagent%3A19254',
 '/p/goagent/issues/entry',
 '',
 '',
 '', 'goagent', 19254,
 false, false, codesite_token);
</script>
 
 
 
 <script type="text/javascript" src="https://ssl.gstatic.com/codesite/ph/10671232128890609530/js/ph_core.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 
 <script type="text/javascript">_CS_reportToCsi();</script>
 
 </body>
</html>

